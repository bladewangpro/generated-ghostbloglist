<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=theme-color content="#FFFFFF"><meta http-equiv=x-ua-compatible content="IE=edge"><title>手把手教你利用 Jenkins 持续集成 iOS 项目 | prometheus</title><meta name=description content="Explore in every moment of the hard thinking"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="手把手教你利用 Jenkins 持续集成 iOS 项目"><meta property="og:description" content="前言 众所周知，现在App的竞争已经到了用户体验为王，质量为上的白热化阶段。用户们都是很挑剔的。如果一个公司的推广团队好不容易砸了重金推广了一个APP，好不容易有了一些用户，由于一次线上的bug导致一批的用户在使用中纷纷出现闪退bug，轻则，很可能前期推广砸的钱都白费了，重则，口碑不好，未来也提升不起用户量来了。静下心来分析一下问题的原因，无外乎就是质量没有过关就上线了。除去主观的一些因素，很大部分的客观因素我觉得可以被我们防范的。根据大神们提出的一套开发规范建议，CI + FDD，就可以帮助我们极大程度的解决客观因素。本文接下来主要讨论 Continuous Integration 持续集成（简称CI）
####目录
 1.为什么我们需要持续集成 2.持续化集成工具——Jenkins 3.iOS自动化打包命令——xcodebuild + xcrun 和 fastlane - gym 命令 4.打包完成自动化上传 fir / 蒲公英 第三方平台 5.完整的持续集成流程 6.Jenkins + Docker  一. 为什么我们需要持续集成 谈到为什么需要的问题，我们就需要从什么是来说起。那什么是持续集成呢。
 持续集成是一种软件开发实践：许多团队频繁地集成他们的工作，每位成员通常进行日常集成，进而每天会有多种集成。每个集成会由自动的构建（包括测试）来尽可能快地检测错误。许多团队发现这种方法可以显著的减少集成问题并且可以使团队开发更加快捷。
 CI是一种开发实践。实践应该包含3个基本模块，一个可以自动构建的过程，自动编译代码，可以自动分发，部署和测试。一个代码仓库，SVN或者Git。最后一个是一个持续集成的服务器。通过持续集成，可以让我们通过自动化等手段高频率地去获取产品反馈并响应反馈的过程。
那么持续集成能给我们带来些什么好处呢？这里推荐一篇文章，文章中把Continuous integration (CI) and test-driven development (TDD)分成了12个步骤。然而带来的好处成倍增加，有24点好处。
我来说说用了CI以后带来的一些深有体会的优点。
1. 缩减开发周期，快速迭代版本 每个版本开始都会估算好开发周期，但是总会因为各种事情而延期。这其中包括了一些客观因素。由于产品线增多，迭代速度越来越快，给测试带来的压力也越来越大。如果测试都在开发完全开发完成之后再来测试，那就会影响很长一段时间。这时候由于集成晚就会严重拖慢项目节奏。如果能尽早的持续集成，尽快进入上图的12步骤的迭代环中，就可以尽早的暴露出问题，提早解决，尽量在规定时间内完成任务。
2. 自动化流水线操作带来的高效 其实打包对于开发人员来说是一件很耗时，而且没有很大技术含量的工作。如果开发人员一多，相互改的代码冲突的几率就越大，加上没有产线管理机制，代码仓库的代码质量很难保证。团队里面会花一些时间来解决冲突，解决完了冲突还需要自己手动打包。这个时候如果证书又不对，又要耽误好长时间。这些时间其实可以用持续集成来节约起来的。一天两天看着不多，但是按照年的单位来计算，可以节约很多时间！
3. 随时可部署 有了持续集成以后，我们可以以天为单位来打包，这种高频率的集成带来的最大的优点就是可以随时部署上线。这样就不会导致快要上线，到处是漏洞，到处是bug，手忙脚乱弄完以后还不能部署，严重影响上线时间。
4. 极大程度避免低级错误 我们可以犯错误，但是犯低级错误就很不应该。这里指的低级错误包括以下几点：编译错误，安装问题，接口问题，性能问题。 以天为单位的持续集成，可以很快发现编译问题，自动打包直接无法通过。打完包以后，测试扫码无法安装，这种问题也会立即被暴露出来。接口问题和性能问题就有自动化测试脚本来发现。这些低级问题由持续集成来暴露展现出来，提醒我们避免低级错误。
二. 持续化集成工具——Jenkins Jenkins 是一个开源项目，提供了一种易于使用的持续集成系统，使开发者从繁杂的集成中解脱出来，专注于更为重要的业务逻辑实现上。同时 Jenkins 能实施监控集成中存在的错误，提供详细的日志文件和提醒功能，还能用图表的形式形象地展示项目构建的趋势和稳定性。
根据官方定义，Jenkins有以下的用途：
 构建项目 跑测试用例检测bug 静态代码检测 部署  关于这4点，实际使用中还是比较方便的： 1."><meta property="og:type" content="article"><meta property="og:url" content="https://new.halfrost.com/ios_jenkins/"><meta property="article:published_time" content="2016-07-30T23:04:00+00:00"><meta property="article:modified_time" content="2016-07-30T23:04:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="手把手教你利用 Jenkins 持续集成 iOS 项目"><meta name=twitter:description content="前言 众所周知，现在App的竞争已经到了用户体验为王，质量为上的白热化阶段。用户们都是很挑剔的。如果一个公司的推广团队好不容易砸了重金推广了一个APP，好不容易有了一些用户，由于一次线上的bug导致一批的用户在使用中纷纷出现闪退bug，轻则，很可能前期推广砸的钱都白费了，重则，口碑不好，未来也提升不起用户量来了。静下心来分析一下问题的原因，无外乎就是质量没有过关就上线了。除去主观的一些因素，很大部分的客观因素我觉得可以被我们防范的。根据大神们提出的一套开发规范建议，CI + FDD，就可以帮助我们极大程度的解决客观因素。本文接下来主要讨论 Continuous Integration 持续集成（简称CI）
####目录
 1.为什么我们需要持续集成 2.持续化集成工具——Jenkins 3.iOS自动化打包命令——xcodebuild + xcrun 和 fastlane - gym 命令 4.打包完成自动化上传 fir / 蒲公英 第三方平台 5.完整的持续集成流程 6.Jenkins + Docker  一. 为什么我们需要持续集成 谈到为什么需要的问题，我们就需要从什么是来说起。那什么是持续集成呢。
 持续集成是一种软件开发实践：许多团队频繁地集成他们的工作，每位成员通常进行日常集成，进而每天会有多种集成。每个集成会由自动的构建（包括测试）来尽可能快地检测错误。许多团队发现这种方法可以显著的减少集成问题并且可以使团队开发更加快捷。
 CI是一种开发实践。实践应该包含3个基本模块，一个可以自动构建的过程，自动编译代码，可以自动分发，部署和测试。一个代码仓库，SVN或者Git。最后一个是一个持续集成的服务器。通过持续集成，可以让我们通过自动化等手段高频率地去获取产品反馈并响应反馈的过程。
那么持续集成能给我们带来些什么好处呢？这里推荐一篇文章，文章中把Continuous integration (CI) and test-driven development (TDD)分成了12个步骤。然而带来的好处成倍增加，有24点好处。
我来说说用了CI以后带来的一些深有体会的优点。
1. 缩减开发周期，快速迭代版本 每个版本开始都会估算好开发周期，但是总会因为各种事情而延期。这其中包括了一些客观因素。由于产品线增多，迭代速度越来越快，给测试带来的压力也越来越大。如果测试都在开发完全开发完成之后再来测试，那就会影响很长一段时间。这时候由于集成晚就会严重拖慢项目节奏。如果能尽早的持续集成，尽快进入上图的12步骤的迭代环中，就可以尽早的暴露出问题，提早解决，尽量在规定时间内完成任务。
2. 自动化流水线操作带来的高效 其实打包对于开发人员来说是一件很耗时，而且没有很大技术含量的工作。如果开发人员一多，相互改的代码冲突的几率就越大，加上没有产线管理机制，代码仓库的代码质量很难保证。团队里面会花一些时间来解决冲突，解决完了冲突还需要自己手动打包。这个时候如果证书又不对，又要耽误好长时间。这些时间其实可以用持续集成来节约起来的。一天两天看着不多，但是按照年的单位来计算，可以节约很多时间！
3. 随时可部署 有了持续集成以后，我们可以以天为单位来打包，这种高频率的集成带来的最大的优点就是可以随时部署上线。这样就不会导致快要上线，到处是漏洞，到处是bug，手忙脚乱弄完以后还不能部署，严重影响上线时间。
4. 极大程度避免低级错误 我们可以犯错误，但是犯低级错误就很不应该。这里指的低级错误包括以下几点：编译错误，安装问题，接口问题，性能问题。 以天为单位的持续集成，可以很快发现编译问题，自动打包直接无法通过。打完包以后，测试扫码无法安装，这种问题也会立即被暴露出来。接口问题和性能问题就有自动化测试脚本来发现。这些低级问题由持续集成来暴露展现出来，提醒我们避免低级错误。
二. 持续化集成工具——Jenkins Jenkins 是一个开源项目，提供了一种易于使用的持续集成系统，使开发者从繁杂的集成中解脱出来，专注于更为重要的业务逻辑实现上。同时 Jenkins 能实施监控集成中存在的错误，提供详细的日志文件和提醒功能，还能用图表的形式形象地展示项目构建的趋势和稳定性。
根据官方定义，Jenkins有以下的用途：
 构建项目 跑测试用例检测bug 静态代码检测 部署  关于这4点，实际使用中还是比较方便的： 1."><link rel=stylesheet href=/css/style-white.min.css><link rel=manifest href=/manifest.json><link rel=stylesheet href=/prism.css><link href=/images/apple-touch-icon-60x60.png rel=apple-touch-icon sizes=60x60><link href=/images/apple-touch-icon-76x76.png rel=apple-touch-icon sizes=76x76><link href=/images/apple-touch-icon-120x120.png rel=apple-touch-icon sizes=120x120><link href=/images/apple-touch-icon-152x152.png rel=apple-touch-icon sizes=152x152><link href=/images/apple-touch-icon-180x180.png rel=apple-touch-icon sizes=180x180><link href=/images/apple-touch-icon-512x512.png rel=apple-touch-icon sizes=512x512><link href=/images/apple-touch-icon-1024x1024.png rel=apple-touch-icon sizes=1024x1024><script async>if('serviceWorker'in navigator){navigator.serviceWorker.register("\/serviceworker-v1.min.a64912b78d282eab1ad3715a0943da21616e5f326f8afea27034784ad445043b.js").then(function(){if(navigator.serviceWorker.controller){console.log('Assets cached by the controlling service worker.');}else{console.log('Please reload this page to allow the service worker to handle network operations.');}}).catch(function(error){console.log('ERROR: '+error);});}else{console.log('Service workers are not supported in the current browser.');}</script><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://new.halfrost.com/images/favicon.ico><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-82753806-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class="single-max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a><a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a><a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast');" style=display:none><i class="fas fa-chevron-up fa-lg"></i></a><span id=menu><span id=nav><ul><li><a href=/>Home</a></li><li><a href=https://books.halfrost.com/>Books</a></li><li><a href=https://github.com/halfrost/Halfrost-Field>Github</a></li><li><a href=https://halfrost.me/>About</a></li><li><a href=/index.xml>RSS</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=https://new.halfrost.com/ios_rac_racsignal/><i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li><li><a class=icon href=https://new.halfrost.com/ios_multienvironments/><i class="fas fa-chevron-right" aria-hidden=true onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li><li><a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast');"><i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li><li><a class=icon href=#><i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f"><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&text=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae"><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae"><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&is_video=false&description=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae"><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae&body=Check out this article: https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f"><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae"><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae"><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.stumbleupon.com/submit?url=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae"><i class="fab fa-stumbleupon" aria-hidden=true></i></a></li><li><a class=icon href="http://digg.com/submit?url=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae"><i class="fab fa-digg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&name=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae&description=%e5%89%8d%e8%a8%80%20%e4%bc%97%e6%89%80%e5%91%a8%e7%9f%a5%ef%bc%8c%e7%8e%b0%e5%9c%a8App%e7%9a%84%e7%ab%9e%e4%ba%89%e5%b7%b2%e7%bb%8f%e5%88%b0%e4%ba%86%e7%94%a8%e6%88%b7%e4%bd%93%e9%aa%8c%e4%b8%ba%e7%8e%8b%ef%bc%8c%e8%b4%a8%e9%87%8f%e4%b8%ba%e4%b8%8a%e7%9a%84%e7%99%bd%e7%83%ad%e5%8c%96%e9%98%b6%e6%ae%b5%e3%80%82%e7%94%a8%e6%88%b7%e4%bb%ac%e9%83%bd%e6%98%af%e5%be%88%e6%8c%91%e5%89%94%e7%9a%84%e3%80%82%e5%a6%82%e6%9e%9c%e4%b8%80%e4%b8%aa%e5%85%ac%e5%8f%b8%e7%9a%84%e6%8e%a8%e5%b9%bf%e5%9b%a2%e9%98%9f%e5%a5%bd%e4%b8%8d%e5%ae%b9%e6%98%93%e7%a0%b8%e4%ba%86%e9%87%8d%e9%87%91%e6%8e%a8%e5%b9%bf%e4%ba%86%e4%b8%80%e4%b8%aaAPP%ef%bc%8c%e5%a5%bd%e4%b8%8d%e5%ae%b9%e6%98%93%e6%9c%89%e4%ba%86%e4%b8%80%e4%ba%9b%e7%94%a8%e6%88%b7%ef%bc%8c%e7%94%b1%e4%ba%8e%e4%b8%80%e6%ac%a1%e7%ba%bf%e4%b8%8a%e7%9a%84bug%e5%af%bc%e8%87%b4%e4%b8%80%e6%89%b9%e7%9a%84%e7%94%a8%e6%88%b7%e5%9c%a8%e4%bd%bf%e7%94%a8%e4%b8%ad%e7%ba%b7%e7%ba%b7%e5%87%ba%e7%8e%b0%e9%97%aa%e9%80%80bug%ef%bc%8c%e8%bd%bb%e5%88%99%ef%bc%8c%e5%be%88%e5%8f%af%e8%83%bd%e5%89%8d%e6%9c%9f%e6%8e%a8%e5%b9%bf%e7%a0%b8%e7%9a%84%e9%92%b1%e9%83%bd%e7%99%bd%e8%b4%b9%e4%ba%86%ef%bc%8c%e9%87%8d%e5%88%99%ef%bc%8c%e5%8f%a3%e7%a2%91%e4%b8%8d%e5%a5%bd%ef%bc%8c%e6%9c%aa%e6%9d%a5%e4%b9%9f%e6%8f%90%e5%8d%87%e4%b8%8d%e8%b5%b7%e7%94%a8%e6%88%b7%e9%87%8f%e6%9d%a5%e4%ba%86%e3%80%82%e9%9d%99%e4%b8%8b%e5%bf%83%e6%9d%a5%e5%88%86%e6%9e%90%e4%b8%80%e4%b8%8b%e9%97%ae%e9%a2%98%e7%9a%84%e5%8e%9f%e5%9b%a0%ef%bc%8c%e6%97%a0%e5%a4%96%e4%b9%8e%e5%b0%b1%e6%98%af%e8%b4%a8%e9%87%8f%e6%b2%a1%e6%9c%89%e8%bf%87%e5%85%b3%e5%b0%b1%e4%b8%8a%e7%ba%bf%e4%ba%86%e3%80%82%e9%99%a4%e5%8e%bb%e4%b8%bb%e8%a7%82%e7%9a%84%e4%b8%80%e4%ba%9b%e5%9b%a0%e7%b4%a0%ef%bc%8c%e5%be%88%e5%a4%a7%e9%83%a8%e5%88%86%e7%9a%84%e5%ae%a2%e8%a7%82%e5%9b%a0%e7%b4%a0%e6%88%91%e8%a7%89%e5%be%97%e5%8f%af%e4%bb%a5%e8%a2%ab%e6%88%91%e4%bb%ac%e9%98%b2%e8%8c%83%e7%9a%84%e3%80%82%e6%a0%b9%e6%8d%ae%e5%a4%a7%e7%a5%9e%e4%bb%ac%e6%8f%90%e5%87%ba%e7%9a%84%e4%b8%80%e5%a5%97%e5%bc%80%e5%8f%91%e8%a7%84%e8%8c%83%e5%bb%ba%e8%ae%ae%ef%bc%8cCI%20%2b%20FDD%ef%bc%8c%e5%b0%b1%e5%8f%af%e4%bb%a5%e5%b8%ae%e5%8a%a9%e6%88%91%e4%bb%ac%e6%9e%81%e5%a4%a7%e7%a8%8b%e5%ba%a6%e7%9a%84%e8%a7%a3%e5%86%b3%e5%ae%a2%e8%a7%82%e5%9b%a0%e7%b4%a0%e3%80%82%e6%9c%ac%e6%96%87%e6%8e%a5%e4%b8%8b%e6%9d%a5%e4%b8%bb%e8%a6%81%e8%ae%a8%e8%ae%ba%20Continuous%20Integration%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%ef%bc%88%e7%ae%80%e7%a7%b0CI%ef%bc%89%0a%23%23%23%23%e7%9b%ae%e5%bd%95%0a%201.%e4%b8%ba%e4%bb%80%e4%b9%88%e6%88%91%e4%bb%ac%e9%9c%80%e8%a6%81%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%202.%e6%8c%81%e7%bb%ad%e5%8c%96%e9%9b%86%e6%88%90%e5%b7%a5%e5%85%b7%e2%80%94%e2%80%94Jenkins%203.iOS%e8%87%aa%e5%8a%a8%e5%8c%96%e6%89%93%e5%8c%85%e5%91%bd%e4%bb%a4%e2%80%94%e2%80%94xcodebuild%20%2b%20xcrun%20%e5%92%8c%20fastlane%20-%20gym%20%e5%91%bd%e4%bb%a4%204.%e6%89%93%e5%8c%85%e5%ae%8c%e6%88%90%e8%87%aa%e5%8a%a8%e5%8c%96%e4%b8%8a%e4%bc%a0%20fir%20%2f%20%e8%92%b2%e5%85%ac%e8%8b%b1%20%e7%ac%ac%e4%b8%89%e6%96%b9%e5%b9%b3%e5%8f%b0%205.%e5%ae%8c%e6%95%b4%e7%9a%84%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e6%b5%81%e7%a8%8b%206.Jenkins%20%2b%20Docker%20%20%e4%b8%80.%20%e4%b8%ba%e4%bb%80%e4%b9%88%e6%88%91%e4%bb%ac%e9%9c%80%e8%a6%81%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20%e8%b0%88%e5%88%b0%e4%b8%ba%e4%bb%80%e4%b9%88%e9%9c%80%e8%a6%81%e7%9a%84%e9%97%ae%e9%a2%98%ef%bc%8c%e6%88%91%e4%bb%ac%e5%b0%b1%e9%9c%80%e8%a6%81%e4%bb%8e%e4%bb%80%e4%b9%88%e6%98%af%e6%9d%a5%e8%af%b4%e8%b5%b7%e3%80%82%e9%82%a3%e4%bb%80%e4%b9%88%e6%98%af%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e5%91%a2%e3%80%82%0a%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e6%98%af%e4%b8%80%e7%a7%8d%e8%bd%af%e4%bb%b6%e5%bc%80%e5%8f%91%e5%ae%9e%e8%b7%b5%ef%bc%9a%e8%ae%b8%e5%a4%9a%e5%9b%a2%e9%98%9f%e9%a2%91%e7%b9%81%e5%9c%b0%e9%9b%86%e6%88%90%e4%bb%96%e4%bb%ac%e7%9a%84%e5%b7%a5%e4%bd%9c%ef%bc%8c%e6%af%8f%e4%bd%8d%e6%88%90%e5%91%98%e9%80%9a%e5%b8%b8%e8%bf%9b%e8%a1%8c%e6%97%a5%e5%b8%b8%e9%9b%86%e6%88%90%ef%bc%8c%e8%bf%9b%e8%80%8c%e6%af%8f%e5%a4%a9%e4%bc%9a%e6%9c%89%e5%a4%9a%e7%a7%8d%e9%9b%86%e6%88%90%e3%80%82%e6%af%8f%e4%b8%aa%e9%9b%86%e6%88%90%e4%bc%9a%e7%94%b1%e8%87%aa%e5%8a%a8%e7%9a%84%e6%9e%84%e5%bb%ba%ef%bc%88%e5%8c%85%e6%8b%ac%e6%b5%8b%e8%af%95%ef%bc%89%e6%9d%a5%e5%b0%bd%e5%8f%af%e8%83%bd%e5%bf%ab%e5%9c%b0%e6%a3%80%e6%b5%8b%e9%94%99%e8%af%af%e3%80%82%e8%ae%b8%e5%a4%9a%e5%9b%a2%e9%98%9f%e5%8f%91%e7%8e%b0%e8%bf%99%e7%a7%8d%e6%96%b9%e6%b3%95%e5%8f%af%e4%bb%a5%e6%98%be%e8%91%97%e7%9a%84%e5%87%8f%e5%b0%91%e9%9b%86%e6%88%90%e9%97%ae%e9%a2%98%e5%b9%b6%e4%b8%94%e5%8f%af%e4%bb%a5%e4%bd%bf%e5%9b%a2%e9%98%9f%e5%bc%80%e5%8f%91%e6%9b%b4%e5%8a%a0%e5%bf%ab%e6%8d%b7%e3%80%82%0a%20CI%e6%98%af%e4%b8%80%e7%a7%8d%e5%bc%80%e5%8f%91%e5%ae%9e%e8%b7%b5%e3%80%82%e5%ae%9e%e8%b7%b5%e5%ba%94%e8%af%a5%e5%8c%85%e5%90%ab3%e4%b8%aa%e5%9f%ba%e6%9c%ac%e6%a8%a1%e5%9d%97%ef%bc%8c%e4%b8%80%e4%b8%aa%e5%8f%af%e4%bb%a5%e8%87%aa%e5%8a%a8%e6%9e%84%e5%bb%ba%e7%9a%84%e8%bf%87%e7%a8%8b%ef%bc%8c%e8%87%aa%e5%8a%a8%e7%bc%96%e8%af%91%e4%bb%a3%e7%a0%81%ef%bc%8c%e5%8f%af%e4%bb%a5%e8%87%aa%e5%8a%a8%e5%88%86%e5%8f%91%ef%bc%8c%e9%83%a8%e7%bd%b2%e5%92%8c%e6%b5%8b%e8%af%95%e3%80%82%e4%b8%80%e4%b8%aa%e4%bb%a3%e7%a0%81%e4%bb%93%e5%ba%93%ef%bc%8cSVN%e6%88%96%e8%80%85Git%e3%80%82%e6%9c%80%e5%90%8e%e4%b8%80%e4%b8%aa%e6%98%af%e4%b8%80%e4%b8%aa%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e7%9a%84%e6%9c%8d%e5%8a%a1%e5%99%a8%e3%80%82%e9%80%9a%e8%bf%87%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%ef%bc%8c%e5%8f%af%e4%bb%a5%e8%ae%a9%e6%88%91%e4%bb%ac%e9%80%9a%e8%bf%87%e8%87%aa%e5%8a%a8%e5%8c%96%e7%ad%89%e6%89%8b%e6%ae%b5%e9%ab%98%e9%a2%91%e7%8e%87%e5%9c%b0%e5%8e%bb%e8%8e%b7%e5%8f%96%e4%ba%a7%e5%93%81%e5%8f%8d%e9%a6%88%e5%b9%b6%e5%93%8d%e5%ba%94%e5%8f%8d%e9%a6%88%e7%9a%84%e8%bf%87%e7%a8%8b%e3%80%82%0a%e9%82%a3%e4%b9%88%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e8%83%bd%e7%bb%99%e6%88%91%e4%bb%ac%e5%b8%a6%e6%9d%a5%e4%ba%9b%e4%bb%80%e4%b9%88%e5%a5%bd%e5%a4%84%e5%91%a2%ef%bc%9f%e8%bf%99%e9%87%8c%e6%8e%a8%e8%8d%90%e4%b8%80%e7%af%87%e6%96%87%e7%ab%a0%ef%bc%8c%e6%96%87%e7%ab%a0%e4%b8%ad%e6%8a%8aContinuous%20integration%c2%a0%28CI%29%20and%c2%a0test-driven%20development%c2%a0%28TDD%29%e5%88%86%e6%88%90%e4%ba%8612%e4%b8%aa%e6%ad%a5%e9%aa%a4%e3%80%82%e7%84%b6%e8%80%8c%e5%b8%a6%e6%9d%a5%e7%9a%84%e5%a5%bd%e5%a4%84%e6%88%90%e5%80%8d%e5%a2%9e%e5%8a%a0%ef%bc%8c%e6%9c%8924%e7%82%b9%e5%a5%bd%e5%a4%84%e3%80%82%0a%e6%88%91%e6%9d%a5%e8%af%b4%e8%af%b4%e7%94%a8%e4%ba%86CI%e4%bb%a5%e5%90%8e%e5%b8%a6%e6%9d%a5%e7%9a%84%e4%b8%80%e4%ba%9b%e6%b7%b1%e6%9c%89%e4%bd%93%e4%bc%9a%e7%9a%84%e4%bc%98%e7%82%b9%e3%80%82%0a1.%20%e7%bc%a9%e5%87%8f%e5%bc%80%e5%8f%91%e5%91%a8%e6%9c%9f%ef%bc%8c%e5%bf%ab%e9%80%9f%e8%bf%ad%e4%bb%a3%e7%89%88%e6%9c%ac%20%e6%af%8f%e4%b8%aa%e7%89%88%e6%9c%ac%e5%bc%80%e5%a7%8b%e9%83%bd%e4%bc%9a%e4%bc%b0%e7%ae%97%e5%a5%bd%e5%bc%80%e5%8f%91%e5%91%a8%e6%9c%9f%ef%bc%8c%e4%bd%86%e6%98%af%e6%80%bb%e4%bc%9a%e5%9b%a0%e4%b8%ba%e5%90%84%e7%a7%8d%e4%ba%8b%e6%83%85%e8%80%8c%e5%bb%b6%e6%9c%9f%e3%80%82%e8%bf%99%e5%85%b6%e4%b8%ad%e5%8c%85%e6%8b%ac%e4%ba%86%e4%b8%80%e4%ba%9b%e5%ae%a2%e8%a7%82%e5%9b%a0%e7%b4%a0%e3%80%82%e7%94%b1%e4%ba%8e%e4%ba%a7%e5%93%81%e7%ba%bf%e5%a2%9e%e5%a4%9a%ef%bc%8c%e8%bf%ad%e4%bb%a3%e9%80%9f%e5%ba%a6%e8%b6%8a%e6%9d%a5%e8%b6%8a%e5%bf%ab%ef%bc%8c%e7%bb%99%e6%b5%8b%e8%af%95%e5%b8%a6%e6%9d%a5%e7%9a%84%e5%8e%8b%e5%8a%9b%e4%b9%9f%e8%b6%8a%e6%9d%a5%e8%b6%8a%e5%a4%a7%e3%80%82%e5%a6%82%e6%9e%9c%e6%b5%8b%e8%af%95%e9%83%bd%e5%9c%a8%e5%bc%80%e5%8f%91%e5%ae%8c%e5%85%a8%e5%bc%80%e5%8f%91%e5%ae%8c%e6%88%90%e4%b9%8b%e5%90%8e%e5%86%8d%e6%9d%a5%e6%b5%8b%e8%af%95%ef%bc%8c%e9%82%a3%e5%b0%b1%e4%bc%9a%e5%bd%b1%e5%93%8d%e5%be%88%e9%95%bf%e4%b8%80%e6%ae%b5%e6%97%b6%e9%97%b4%e3%80%82%e8%bf%99%e6%97%b6%e5%80%99%e7%94%b1%e4%ba%8e%e9%9b%86%e6%88%90%e6%99%9a%e5%b0%b1%e4%bc%9a%e4%b8%a5%e9%87%8d%e6%8b%96%e6%85%a2%e9%a1%b9%e7%9b%ae%e8%8a%82%e5%a5%8f%e3%80%82%e5%a6%82%e6%9e%9c%e8%83%bd%e5%b0%bd%e6%97%a9%e7%9a%84%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%ef%bc%8c%e5%b0%bd%e5%bf%ab%e8%bf%9b%e5%85%a5%e4%b8%8a%e5%9b%be%e7%9a%8412%e6%ad%a5%e9%aa%a4%e7%9a%84%e8%bf%ad%e4%bb%a3%e7%8e%af%e4%b8%ad%ef%bc%8c%e5%b0%b1%e5%8f%af%e4%bb%a5%e5%b0%bd%e6%97%a9%e7%9a%84%e6%9a%b4%e9%9c%b2%e5%87%ba%e9%97%ae%e9%a2%98%ef%bc%8c%e6%8f%90%e6%97%a9%e8%a7%a3%e5%86%b3%ef%bc%8c%e5%b0%bd%e9%87%8f%e5%9c%a8%e8%a7%84%e5%ae%9a%e6%97%b6%e9%97%b4%e5%86%85%e5%ae%8c%e6%88%90%e4%bb%bb%e5%8a%a1%e3%80%82%0a2.%20%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%81%e6%b0%b4%e7%ba%bf%e6%93%8d%e4%bd%9c%e5%b8%a6%e6%9d%a5%e7%9a%84%e9%ab%98%e6%95%88%20%e5%85%b6%e5%ae%9e%e6%89%93%e5%8c%85%e5%af%b9%e4%ba%8e%e5%bc%80%e5%8f%91%e4%ba%ba%e5%91%98%e6%9d%a5%e8%af%b4%e6%98%af%e4%b8%80%e4%bb%b6%e5%be%88%e8%80%97%e6%97%b6%ef%bc%8c%e8%80%8c%e4%b8%94%e6%b2%a1%e6%9c%89%e5%be%88%e5%a4%a7%e6%8a%80%e6%9c%af%e5%90%ab%e9%87%8f%e7%9a%84%e5%b7%a5%e4%bd%9c%e3%80%82%e5%a6%82%e6%9e%9c%e5%bc%80%e5%8f%91%e4%ba%ba%e5%91%98%e4%b8%80%e5%a4%9a%ef%bc%8c%e7%9b%b8%e4%ba%92%e6%94%b9%e7%9a%84%e4%bb%a3%e7%a0%81%e5%86%b2%e7%aa%81%e7%9a%84%e5%87%a0%e7%8e%87%e5%b0%b1%e8%b6%8a%e5%a4%a7%ef%bc%8c%e5%8a%a0%e4%b8%8a%e6%b2%a1%e6%9c%89%e4%ba%a7%e7%ba%bf%e7%ae%a1%e7%90%86%e6%9c%ba%e5%88%b6%ef%bc%8c%e4%bb%a3%e7%a0%81%e4%bb%93%e5%ba%93%e7%9a%84%e4%bb%a3%e7%a0%81%e8%b4%a8%e9%87%8f%e5%be%88%e9%9a%be%e4%bf%9d%e8%af%81%e3%80%82%e5%9b%a2%e9%98%9f%e9%87%8c%e9%9d%a2%e4%bc%9a%e8%8a%b1%e4%b8%80%e4%ba%9b%e6%97%b6%e9%97%b4%e6%9d%a5%e8%a7%a3%e5%86%b3%e5%86%b2%e7%aa%81%ef%bc%8c%e8%a7%a3%e5%86%b3%e5%ae%8c%e4%ba%86%e5%86%b2%e7%aa%81%e8%bf%98%e9%9c%80%e8%a6%81%e8%87%aa%e5%b7%b1%e6%89%8b%e5%8a%a8%e6%89%93%e5%8c%85%e3%80%82%e8%bf%99%e4%b8%aa%e6%97%b6%e5%80%99%e5%a6%82%e6%9e%9c%e8%af%81%e4%b9%a6%e5%8f%88%e4%b8%8d%e5%af%b9%ef%bc%8c%e5%8f%88%e8%a6%81%e8%80%bd%e8%af%af%e5%a5%bd%e9%95%bf%e6%97%b6%e9%97%b4%e3%80%82%e8%bf%99%e4%ba%9b%e6%97%b6%e9%97%b4%e5%85%b6%e5%ae%9e%e5%8f%af%e4%bb%a5%e7%94%a8%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e6%9d%a5%e8%8a%82%e7%ba%a6%e8%b5%b7%e6%9d%a5%e7%9a%84%e3%80%82%e4%b8%80%e5%a4%a9%e4%b8%a4%e5%a4%a9%e7%9c%8b%e7%9d%80%e4%b8%8d%e5%a4%9a%ef%bc%8c%e4%bd%86%e6%98%af%e6%8c%89%e7%85%a7%e5%b9%b4%e7%9a%84%e5%8d%95%e4%bd%8d%e6%9d%a5%e8%ae%a1%e7%ae%97%ef%bc%8c%e5%8f%af%e4%bb%a5%e8%8a%82%e7%ba%a6%e5%be%88%e5%a4%9a%e6%97%b6%e9%97%b4%ef%bc%81%0a3.%20%e9%9a%8f%e6%97%b6%e5%8f%af%e9%83%a8%e7%bd%b2%20%e6%9c%89%e4%ba%86%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e4%bb%a5%e5%90%8e%ef%bc%8c%e6%88%91%e4%bb%ac%e5%8f%af%e4%bb%a5%e4%bb%a5%e5%a4%a9%e4%b8%ba%e5%8d%95%e4%bd%8d%e6%9d%a5%e6%89%93%e5%8c%85%ef%bc%8c%e8%bf%99%e7%a7%8d%e9%ab%98%e9%a2%91%e7%8e%87%e7%9a%84%e9%9b%86%e6%88%90%e5%b8%a6%e6%9d%a5%e7%9a%84%e6%9c%80%e5%a4%a7%e7%9a%84%e4%bc%98%e7%82%b9%e5%b0%b1%e6%98%af%e5%8f%af%e4%bb%a5%e9%9a%8f%e6%97%b6%e9%83%a8%e7%bd%b2%e4%b8%8a%e7%ba%bf%e3%80%82%e8%bf%99%e6%a0%b7%e5%b0%b1%e4%b8%8d%e4%bc%9a%e5%af%bc%e8%87%b4%e5%bf%ab%e8%a6%81%e4%b8%8a%e7%ba%bf%ef%bc%8c%e5%88%b0%e5%a4%84%e6%98%af%e6%bc%8f%e6%b4%9e%ef%bc%8c%e5%88%b0%e5%a4%84%e6%98%afbug%ef%bc%8c%e6%89%8b%e5%bf%99%e8%84%9a%e4%b9%b1%e5%bc%84%e5%ae%8c%e4%bb%a5%e5%90%8e%e8%bf%98%e4%b8%8d%e8%83%bd%e9%83%a8%e7%bd%b2%ef%bc%8c%e4%b8%a5%e9%87%8d%e5%bd%b1%e5%93%8d%e4%b8%8a%e7%ba%bf%e6%97%b6%e9%97%b4%e3%80%82%0a4.%20%e6%9e%81%e5%a4%a7%e7%a8%8b%e5%ba%a6%e9%81%bf%e5%85%8d%e4%bd%8e%e7%ba%a7%e9%94%99%e8%af%af%20%e6%88%91%e4%bb%ac%e5%8f%af%e4%bb%a5%e7%8a%af%e9%94%99%e8%af%af%ef%bc%8c%e4%bd%86%e6%98%af%e7%8a%af%e4%bd%8e%e7%ba%a7%e9%94%99%e8%af%af%e5%b0%b1%e5%be%88%e4%b8%8d%e5%ba%94%e8%af%a5%e3%80%82%e8%bf%99%e9%87%8c%e6%8c%87%e7%9a%84%e4%bd%8e%e7%ba%a7%e9%94%99%e8%af%af%e5%8c%85%e6%8b%ac%e4%bb%a5%e4%b8%8b%e5%87%a0%e7%82%b9%ef%bc%9a%e7%bc%96%e8%af%91%e9%94%99%e8%af%af%ef%bc%8c%e5%ae%89%e8%a3%85%e9%97%ae%e9%a2%98%ef%bc%8c%e6%8e%a5%e5%8f%a3%e9%97%ae%e9%a2%98%ef%bc%8c%e6%80%a7%e8%83%bd%e9%97%ae%e9%a2%98%e3%80%82%20%e4%bb%a5%e5%a4%a9%e4%b8%ba%e5%8d%95%e4%bd%8d%e7%9a%84%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%ef%bc%8c%e5%8f%af%e4%bb%a5%e5%be%88%e5%bf%ab%e5%8f%91%e7%8e%b0%e7%bc%96%e8%af%91%e9%97%ae%e9%a2%98%ef%bc%8c%e8%87%aa%e5%8a%a8%e6%89%93%e5%8c%85%e7%9b%b4%e6%8e%a5%e6%97%a0%e6%b3%95%e9%80%9a%e8%bf%87%e3%80%82%e6%89%93%e5%ae%8c%e5%8c%85%e4%bb%a5%e5%90%8e%ef%bc%8c%e6%b5%8b%e8%af%95%e6%89%ab%e7%a0%81%e6%97%a0%e6%b3%95%e5%ae%89%e8%a3%85%ef%bc%8c%e8%bf%99%e7%a7%8d%e9%97%ae%e9%a2%98%e4%b9%9f%e4%bc%9a%e7%ab%8b%e5%8d%b3%e8%a2%ab%e6%9a%b4%e9%9c%b2%e5%87%ba%e6%9d%a5%e3%80%82%e6%8e%a5%e5%8f%a3%e9%97%ae%e9%a2%98%e5%92%8c%e6%80%a7%e8%83%bd%e9%97%ae%e9%a2%98%e5%b0%b1%e6%9c%89%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95%e8%84%9a%e6%9c%ac%e6%9d%a5%e5%8f%91%e7%8e%b0%e3%80%82%e8%bf%99%e4%ba%9b%e4%bd%8e%e7%ba%a7%e9%97%ae%e9%a2%98%e7%94%b1%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e6%9d%a5%e6%9a%b4%e9%9c%b2%e5%b1%95%e7%8e%b0%e5%87%ba%e6%9d%a5%ef%bc%8c%e6%8f%90%e9%86%92%e6%88%91%e4%bb%ac%e9%81%bf%e5%85%8d%e4%bd%8e%e7%ba%a7%e9%94%99%e8%af%af%e3%80%82%0a%e4%ba%8c.%20%e6%8c%81%e7%bb%ad%e5%8c%96%e9%9b%86%e6%88%90%e5%b7%a5%e5%85%b7%e2%80%94%e2%80%94Jenkins%20Jenkins%20%e6%98%af%e4%b8%80%e4%b8%aa%e5%bc%80%e6%ba%90%e9%a1%b9%e7%9b%ae%ef%bc%8c%e6%8f%90%e4%be%9b%e4%ba%86%e4%b8%80%e7%a7%8d%e6%98%93%e4%ba%8e%e4%bd%bf%e7%94%a8%e7%9a%84%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e7%b3%bb%e7%bb%9f%ef%bc%8c%e4%bd%bf%e5%bc%80%e5%8f%91%e8%80%85%e4%bb%8e%e7%b9%81%e6%9d%82%e7%9a%84%e9%9b%86%e6%88%90%e4%b8%ad%e8%a7%a3%e8%84%b1%e5%87%ba%e6%9d%a5%ef%bc%8c%e4%b8%93%e6%b3%a8%e4%ba%8e%e6%9b%b4%e4%b8%ba%e9%87%8d%e8%a6%81%e7%9a%84%e4%b8%9a%e5%8a%a1%e9%80%bb%e8%be%91%e5%ae%9e%e7%8e%b0%e4%b8%8a%e3%80%82%e5%90%8c%e6%97%b6%20Jenkins%20%e8%83%bd%e5%ae%9e%e6%96%bd%e7%9b%91%e6%8e%a7%e9%9b%86%e6%88%90%e4%b8%ad%e5%ad%98%e5%9c%a8%e7%9a%84%e9%94%99%e8%af%af%ef%bc%8c%e6%8f%90%e4%be%9b%e8%af%a6%e7%bb%86%e7%9a%84%e6%97%a5%e5%bf%97%e6%96%87%e4%bb%b6%e5%92%8c%e6%8f%90%e9%86%92%e5%8a%9f%e8%83%bd%ef%bc%8c%e8%bf%98%e8%83%bd%e7%94%a8%e5%9b%be%e8%a1%a8%e7%9a%84%e5%bd%a2%e5%bc%8f%e5%bd%a2%e8%b1%a1%e5%9c%b0%e5%b1%95%e7%a4%ba%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%e7%9a%84%e8%b6%8b%e5%8a%bf%e5%92%8c%e7%a8%b3%e5%ae%9a%e6%80%a7%e3%80%82%0a%e6%a0%b9%e6%8d%ae%e5%ae%98%e6%96%b9%e5%ae%9a%e4%b9%89%ef%bc%8cJenkins%e6%9c%89%e4%bb%a5%e4%b8%8b%e7%9a%84%e7%94%a8%e9%80%94%ef%bc%9a%0a%20%e6%9e%84%e5%bb%ba%e9%a1%b9%e7%9b%ae%20%e8%b7%91%e6%b5%8b%e8%af%95%e7%94%a8%e4%be%8b%e6%a3%80%e6%b5%8bbug%20%e9%9d%99%e6%80%81%e4%bb%a3%e7%a0%81%e6%a3%80%e6%b5%8b%20%e9%83%a8%e7%bd%b2%20%20%e5%85%b3%e4%ba%8e%e8%bf%994%e7%82%b9%ef%bc%8c%e5%ae%9e%e9%99%85%e4%bd%bf%e7%94%a8%e4%b8%ad%e8%bf%98%e6%98%af%e6%af%94%e8%be%83%e6%96%b9%e4%be%bf%e7%9a%84%ef%bc%9a%201."><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&t=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div><div id=toc><nav id=TableOfContents><ul><li><ul><li><ul><li><a href=#前言>前言</a></li><li><a href=#一-为什么我们需要持续集成>一. 为什么我们需要持续集成</a></li><li><a href=#二-持续化集成工具jenkins>二. 持续化集成工具——Jenkins</a></li><li><a href=#三-ios自动化打包命令xcodebuild--xcrun-和-fastlane---gym-命令>三. iOS自动化打包命令——xcodebuild + xcrun 和 fastlane - gym 命令</a></li><li><a href=#四-打包完成自动化上传-fir--蒲公英-第三方平台>四. 打包完成自动化上传 fir / 蒲公英 第三方平台</a></li><li><a href=#五-完整的持续集成流程>五. 完整的持续集成流程</a></li><li><a href=#六-jenkins--docker>六. Jenkins + Docker</a></li><li><a href=#最后>最后</a></li></ul></li></ul></li></ul></nav></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">手把手教你利用 Jenkins 持续集成 iOS 项目</h1><div class=meta><div class=postdate><time datetime="2016-07-30 23:04:00 +0000 UTC" itemprop=datePublished>Jul 30</time></div><div class=article-category><i class="fas fa-archive"></i><a class=category-link href=/categories/ios>iOS</a>
,
<a class=category-link href=/categories/jenkins>Jenkins</a>
,
<a class=category-link href=/categories/continuous-integration>Continuous Integration</a>
,
<a class=category-link href=/categories/ci>CI</a>
,
<a class=category-link href=/categories/docker>Docker</a>
,
<a class=category-link href=/categories/fastlane>fastlane</a>
,
<a class=category-link href=/categories/gym>gym</a>
,
<a class=category-link href=/categories/xcodebuild>xcodebuild</a>
,
<a class=category-link href=/categories/xcrun>xcrun</a>
,
<a class=category-link href=/categories/fir>fir</a></div><div class=article-tag><i class="fas fa-tag"></i><a class=tag-link href=/tags/ios rel=tag>iOS</a>
,
<a class=tag-link href=/tags/jenkins rel=tag>Jenkins</a>
,
<a class=tag-link href=/tags/continuous-integration rel=tag>Continuous Integration</a>
,
<a class=tag-link href=/tags/ci rel=tag>CI</a>
,
<a class=tag-link href=/tags/docker rel=tag>Docker</a>
,
<a class=tag-link href=/tags/fastlane rel=tag>fastlane</a>
,
<a class=tag-link href=/tags/gym rel=tag>gym</a>
,
<a class=tag-link href=/tags/xcodebuild rel=tag>xcodebuild</a>
,
<a class=tag-link href=/tags/xcrun rel=tag>xcrun</a>
,
<a class=tag-link href=/tags/fir rel=tag>fir</a></div></div></header><div class=content itemprop=articleBody><h4 id=前言>前言</h4><p>众所周知，现在App的竞争已经到了用户体验为王，质量为上的白热化阶段。用户们都是很挑剔的。如果一个公司的推广团队好不容易砸了重金推广了一个APP，好不容易有了一些用户，由于一次线上的bug导致一批的用户在使用中纷纷出现闪退bug，轻则，很可能前期推广砸的钱都白费了，重则，口碑不好，未来也提升不起用户量来了。静下心来分析一下问题的原因，无外乎就是质量没有过关就上线了。除去主观的一些因素，很大部分的客观因素我觉得可以被我们防范的。根据大神们提出的一套开发规范建议，CI + FDD，就可以帮助我们极大程度的解决客观因素。本文接下来主要讨论 <a href=http://martinfowler.com/articles/continuousIntegration.html>Continuous Integration</a> 持续集成（简称CI）</p><p>####目录</p><ul><li>1.为什么我们需要持续集成</li><li>2.持续化集成工具——Jenkins</li><li>3.iOS自动化打包命令——xcodebuild + xcrun 和 fastlane - gym 命令</li><li>4.打包完成自动化上传 fir / 蒲公英 第三方平台</li><li>5.完整的持续集成流程</li><li>6.Jenkins + Docker</li></ul><h4 id=一-为什么我们需要持续集成>一. 为什么我们需要持续集成</h4><p>谈到为什么需要的问题，我们就需要从什么是来说起。那什么是持续集成呢。</p><blockquote><p>持续集成是一种软件开发实践：许多团队频繁地集成他们的工作，每位成员通常进行日常集成，进而每天会有多种集成。每个集成会由自动的构建（包括测试）来尽可能快地检测错误。许多团队发现这种方法可以显著的减少集成问题并且可以使团队开发更加快捷。</p></blockquote><p>CI是一种开发实践。实践应该包含3个基本模块，一个可以自动构建的过程，自动编译代码，可以自动分发，部署和测试。一个代码仓库，SVN或者Git。最后一个是一个持续集成的服务器。通过持续集成，可以让我们通过自动化等手段高频率地去获取产品反馈并响应反馈的过程。</p><p>那么持续集成能给我们带来些什么好处呢？这里推荐一篇<a href=http://apiumtech.com/blog/top-benefits-of-continuous-integration-2/>文章</a>，文章中把<a href=http://apiumtech.com/blog/top-benefits-of-continuous-integration-2/>Continuous integration</a> (CI) and <a href=http://apiumtech.com/blog/20-benefits-of-test-driven-development/>test-driven development</a> (TDD)分成了12个步骤。然而带来的好处成倍增加，有24点好处。</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_2.png alt></p><p>我来说说用了CI以后带来的一些深有体会的优点。</p><h5 id=1-缩减开发周期快速迭代版本>1. 缩减开发周期，快速迭代版本</h5><p>每个版本开始都会估算好开发周期，但是总会因为各种事情而延期。这其中包括了一些客观因素。由于产品线增多，迭代速度越来越快，给测试带来的压力也越来越大。如果测试都在开发完全开发完成之后再来测试，那就会影响很长一段时间。这时候由于集成晚就会严重拖慢项目节奏。如果能尽早的持续集成，尽快进入上图的12步骤的迭代环中，就可以尽早的暴露出问题，提早解决，尽量在规定时间内完成任务。</p><h5 id=2-自动化流水线操作带来的高效>2. 自动化流水线操作带来的高效</h5><p>其实打包对于开发人员来说是一件很耗时，而且没有很大技术含量的工作。如果开发人员一多，相互改的代码冲突的几率就越大，加上没有产线管理机制，代码仓库的代码质量很难保证。团队里面会花一些时间来解决冲突，解决完了冲突还需要自己手动打包。这个时候如果证书又不对，又要耽误好长时间。这些时间其实可以用持续集成来节约起来的。一天两天看着不多，但是按照年的单位来计算，可以节约很多时间！</p><h5 id=3-随时可部署>3. 随时可部署</h5><p>有了持续集成以后，我们可以以天为单位来打包，这种高频率的集成带来的最大的优点就是可以随时部署上线。这样就不会导致快要上线，到处是漏洞，到处是bug，手忙脚乱弄完以后还不能部署，严重影响上线时间。</p><h5 id=4-极大程度避免低级错误>4. 极大程度避免低级错误</h5><p>我们可以犯错误，但是犯低级错误就很不应该。这里指的低级错误包括以下几点：编译错误，安装问题，接口问题，性能问题。
以天为单位的持续集成，可以很快发现编译问题，自动打包直接无法通过。打完包以后，测试扫码无法安装，这种问题也会立即被暴露出来。接口问题和性能问题就有自动化测试脚本来发现。这些低级问题由持续集成来暴露展现出来，提醒我们避免低级错误。</p><h4 id=二-持续化集成工具jenkins>二. 持续化集成工具——Jenkins</h4><p>Jenkins 是一个开源项目，提供了一种易于使用的持续集成系统，使开发者从繁杂的集成中解脱出来，专注于更为重要的业务逻辑实现上。同时 Jenkins 能实施监控集成中存在的错误，提供详细的日志文件和提醒功能，还能用图表的形式形象地展示项目构建的趋势和稳定性。</p><p>根据官方定义，Jenkins有以下的用途：</p><ol><li>构建项目</li><li>跑测试用例检测bug</li><li>静态代码检测</li><li>部署</li></ol><p>关于这4点，实际使用中还是比较方便的：
1.构建项目自动化打包可以省去开发人员好多时间，重要的是，Jenkins为我们维护了一套高质量可用的代码，而且保证了一个纯净的环境。我们经常会出现由于本地配置出错而导致打包失败的情况。现在Jenkins就是一个公平的评判者，它无法正确的编译出ipa，那就是有编译错误或者配置问题。开发人员没必要去争论本地是可以运行的，拉取了谁谁谁的代码以后就不能运行了。共同维护Jenkins的正常编译，因为Jenkins的编译环境比我们本地简单的多，它是最纯净无污染的编译环境。开发者就只用专注于编码。这是给开发者带来的便利。</p><p>2.这个可以用来自动化测试。在本地生成大批的测试用例。每天利用服务器不断的跑这些用例。每天每个接口都跑一遍。看上去没必要，但是实际上今天运行正常的系统，很可能由于今天的代码改动，明天就出现问题了。有了Jenkins可以以天为单位的进行回归测试，代码只要有改动，Jenkins就把所有的回归测试的用例全部都跑一遍。在项目工期紧张的情况下，很多情况测试都不是很重视回归测试，毕竟很可能测一遍之后是徒劳的“无用功”。然而由于回归测试不及时，就导致到最后发版的时候系统不可用了，这时候回头查找原因是比较耗时的，查看提交记录，看到上百条提交记录，排查起来也是头疼的事情。以天为单位的回归测试能立即发现问题。测试人员每天可以专注按单元测试，一周手动一次回归测试。这是给测试者带来的便利。</p><p>3.这个是静态代码分析，可以检测出很多代码的问题，比如潜在的内存泄露的问题。由于Jenkins所在环境的纯净，还是可以发现一些我们本地复杂环境无法发现的问题，进一步的提高代码质量。这是给质检带来的便利。</p><p>4.随时部署。Jenkins在打包完成之后可以设定之后的操作，这个时候往往就是提交app到跑测试用例的系统，或者部署到内测平台生成二维码。部署中不能安装等一些低级问题随之立即暴露。测试人员也只需要扫一下二维码即可安装，很方便。这也算是给测试带来的便利。</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_3.png alt></p><p>以下的例子以2016-07-24 22:35的Weekly Release 2.15的版本为例。</p><p>我们来开始安装Jenkins。从官网https://jenkins.io/ 上下载最新的pkg安装包。</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_4.png alt></p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_5.png alt></p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_6.png alt></p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_7.png alt></p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_8.png alt></p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_9.png alt></p><p>也可以下载jenkins.war, 然后运行Java -jar jenkins.war，进行安装。</p><p>安装完成之后，Safari可能会自动打开，如果没有自动打开，打开浏览器，输入http://localhost:8080</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_10.png alt></p><p>这个时候可能会报一个错误。如果出现了这面的问题。出现这个问题的原因就是Java环境有问题，重新Java环境即可。</p><p>这个时候如果你重启电脑会发现Jenkins给你新增了一个用户，名字就叫Jenkins，不过这个时候你不知道密码。你可能会去试密码，肯定是是不对的，因为初始密码很复杂。这个时候正确做法是打开http://localhost:8080 会出现下图的重设初始密码的界面。</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_11.png alt></p><p>按照提示，找到/Users/Shared/Jenkins/Home/ 这个目录下，这个目录虽然是共享目录，但是有权限的，非Jenkins用户/secrets/目录是没有读写权限的。</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_12.png alt></p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_13.png alt></p><p>打开initialAdminPassword文件，复制出密码，就可以填到网页上去重置密码了。如下图</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_14.png alt></p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_15.png alt></p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_16.png alt></p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_17.png alt></p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_18.png alt></p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_19.png alt></p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_20.png alt></p><p>一路安装过来，输入用户名，密码，邮件这些，就算安装完成了。</p><p>还是继续登录localhost:8080 ，选择“系统管理”——“管理插件”，我们要先安装一些辅助插件。</p><p><strong>安装GitLab插件</strong>
因为我们用的是GitLab来管理源代码，Jenkins本身并没有自带GitLab插件，所以我们需要依次选择 <strong>系统管理</strong>-><strong>管理插件</strong>，在“<strong>可选插件</strong>”中选中“<strong>GitLab Plugin</strong>”和“<strong>Gitlab Hook Plugin</strong>”这两项，然后安装。</p><p><strong>安装Xcode插件</strong>
同安装GitLab插件的步骤一样，我们依次选择<strong>系统管理</strong>-><strong>管理插件</strong>，在“<strong>可选插件</strong>”中选中“<strong>Xcode integration</strong>”安装。</p><p>安装完了这个，我们就可以配置一个构建项目了。</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_21.png alt></p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_22.png alt></p><p>点击新建好的项目，进来配置一下<strong>General</strong>参数。</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_23.png alt></p><p>这里可以设置包的保留天数还有天数。</p><p>接着设置<strong>源码管理</strong>。</p><p>由于现在我用到的是GitLab，先配置SSH Key，在Jenkins的证书管理中添加SSH。在Jenkins管理页面，选择“<strong>Credentials</strong>”，然后选择“<strong>Global credentials (unrestricted)</strong>”，点击“<strong>Add Credentials</strong>”，如下图所示，我们填写自己的SSH信息，然后点击“<strong>Save</strong>”，这样就把SSH添加到Jenkins的全局域中去了。</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_24.png alt></p><p>如果正常的配置正确的话，是不会出现下图中的那段红色的警告。如果有下图的提示，就说明Jenkins还没有连通GitLab或者SVN，那就请再检查SSH Key是否配置正确。</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_25.png alt></p><p><strong>构建触发器设置</strong>这里是设置自动化测试的地方。这里涉及的内容很多，暂时我也没有深入研究，这里暂时先不设置。有自动化测试需求的可以好好研究研究这里的设置。</p><p>不过这里有两个配置还是需要是配置的</p><p><strong>Poll SCM</strong> (poll source code management)  轮询源码管理<br>需要设置源码的路径才能起到轮询的效果。一般设置为类似结果： 0/5 * * * * 每5分钟轮询一次<br><strong>Build periodically</strong> (定时build)<br>一般设置为类似： 00 20 * * *   每天 20点执行定时build 。当然两者的设置都是一样可以通用的。</p><p>格式是这样的</p><p>分钟(0-59) 小时(0-23) 日期(1-31) 月(1-12) 周几(0-7,0和7都是周日) <a href=http://www.scmgalaxy.com/scm/setting-up-the-cron-jobs-in-jenkins-using-build-periodically-scheduling-the-jenins-job.html>更加详细的设置看这里</a></p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_26.png alt></p><p><strong>构建环境设置</strong><br>iOS打包需要签名文件和证书，所以这部分我们勾选“<strong>Keychains and Code Signing Identities</strong>”和“<strong>Mobile Provisioning Profiles</strong>”。
这里我们又需要用到Jenkins的插件，在系统管理页面，选择“<strong>Keychains and Provisioning Profiles Management</strong>”。</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_27.png alt></p><p>进入<strong>Keychains and Provisioning Profiles Management</strong>页面，点击“<strong>浏览</strong>”按钮，分别上传自己的keychain和证书。上传成功后，我们再为keychain指明签名文件的名称。点击“<strong>Add Code Signing Identity</strong>”，最后添加成功后如下图所示：</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_28.png alt></p><p>注意：我第一次导入证书和Provisioning Profiles文件，就遇到了一点小“坑”，我当时以为是需要证书，但是这里需要的Keychain，并不是cer证书文件。这个Keychain其实在/Users/管理员用户名/Library/keychains/login.keychain,当把这个Keychain设置好了之后，Jenkins会把这个Keychain拷贝到/Users/Shared/Jenkins/Library/keychains这里，(Library是隐藏文件)。Provisioning Profiles文件也直接拷贝到/Users/Shared/Jenkins/Library/MobileDevice文件目录下。</p><p>这样Adhoc证书和签名文件就在Jenkins中配置好了，接下来我们只需要在item设置中指定相关文件即可。
回到我们新建的item，找到<strong>构建环境</strong>，按下图选好自己的相关证书和签名文件。</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_29.jpg alt></p><p>接下来在进行<strong>构建</strong>的设置</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_30.png alt></p><p>我们这里选择执行一段打包脚本。脚本在下一章节详细的讲解。</p><p><strong>构建后操作</strong></p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_31.png alt></p><p>这里我们选择<strong>Execute a set of scripts</strong>，这里也是一个脚本，这个脚本用来上传自动打包好的ipa文件。脚本在第四章节有详细的讲解。</p><p>至此，我们的Jenkins设置就全部完成了。点击<strong>构建</strong>，就会开始构建项目了。</p><p>构建一次，各个颜色代表的意义如下：</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_32.png alt></p><p>天气的晴雨表代表了项目的质量，这也是Jenkins的一个特色。</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_33.jpg alt></p><p>如果构建失败了，可以去查看<strong>Console Output</strong>可以查看log日志。</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_34.png alt></p><h4 id=三-ios自动化打包命令xcodebuild--xcrun-和-fastlane---gym-命令>三. iOS自动化打包命令——xcodebuild + xcrun 和 fastlane - gym 命令</h4><p>在日常开发中，打包是最后上线不可缺少的环节，如果需要把工程打包成 ipa 文件，通常的做法就是在 Xcode 里点击 「Product -> Archive」，当整个工程 archive 后，然后在自动弹出的 「Organizer」 中进行选择，根据需要导出 ad hoc，enterprise 类型的 ipa 包。虽然Xcode已经可以很完美的做到打包的事情，但是还是需要我们手动点击5，6下。加上我们现在需要持续集成，用打包命令自动化执行就顺其自然的需要了。</p><h5 id=1-xcodebuild--xcrun命令>1. xcodebuild + xcrun命令</h5><p>Xcode为我们开发者提供了一套构建打包的命令，就是xcodebuild
和xcrun命令。xcodebuild把我们指定的项目打包成.app文件，xcrun将指定的.app文件转换为对应的.ipa文件。</p><p>具体的文档如下， <a href=https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/xcodebuild.1.html>xcodebuild官方文档</a>、<a href=https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/xcrun.1.html>xcrun官方文档</a></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#a6e22e>NAME</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>xcodebuild</span> – <span style=color:#a6e22e>build</span> <span style=color:#a6e22e>Xcode</span> <span style=color:#a6e22e>projects</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>workspaces</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>SYNOPSIS</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#ae81ff>1</span>. <span style=color:#a6e22e>xcodebuild</span> [-<span style=color:#a6e22e>project</span> <span style=color:#a6e22e>name</span>.<span style=color:#a6e22e>xcodeproj</span>] [[-<span style=color:#a6e22e>target</span> <span style=color:#a6e22e>targetname</span>] … | -<span style=color:#a6e22e>alltargets</span>] [-<span style=color:#a6e22e>configuration</span> <span style=color:#a6e22e>configurationname</span>] [-<span style=color:#a6e22e>sdk</span> [<span style=color:#a6e22e>sdkfullpath</span> | <span style=color:#a6e22e>sdkname</span>]] [<span style=color:#a6e22e>action</span> …] [<span style=color:#a6e22e>buildsetting</span>=<span style=color:#a6e22e>value</span> …] [-<span style=color:#a6e22e>userdefault</span>=<span style=color:#a6e22e>value</span> …]<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#ae81ff>2</span>. <span style=color:#a6e22e>xcodebuild</span> [-<span style=color:#a6e22e>project</span> <span style=color:#a6e22e>name</span>.<span style=color:#a6e22e>xcodeproj</span>] -<span style=color:#a6e22e>scheme</span> <span style=color:#a6e22e>schemename</span> [[-<span style=color:#a6e22e>destination</span> <span style=color:#a6e22e>destinationspecifier</span>] …] [-<span style=color:#a6e22e>destination</span>-<span style=color:#a6e22e>timeout</span> <span style=color:#a6e22e>value</span>] [-<span style=color:#a6e22e>configuration</span> <span style=color:#a6e22e>configurationname</span>] [-<span style=color:#a6e22e>sdk</span> [<span style=color:#a6e22e>sdkfullpath</span> | <span style=color:#a6e22e>sdkname</span>]] [<span style=color:#a6e22e>action</span> …] [<span style=color:#a6e22e>buildsetting</span>=<span style=color:#a6e22e>value</span> …] [-<span style=color:#a6e22e>userdefault</span>=<span style=color:#a6e22e>value</span> …]<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#ae81ff>3</span>. <span style=color:#a6e22e>xcodebuild</span> -<span style=color:#a6e22e>workspace</span> <span style=color:#a6e22e>name</span>.<span style=color:#a6e22e>xcworkspace</span> -<span style=color:#a6e22e>scheme</span> <span style=color:#a6e22e>schemename</span> [[-<span style=color:#a6e22e>destination</span> <span style=color:#a6e22e>destinationspecifier</span>] …] [-<span style=color:#a6e22e>destination</span>-<span style=color:#a6e22e>timeout</span> <span style=color:#a6e22e>value</span>] [-<span style=color:#a6e22e>configuration</span> <span style=color:#a6e22e>configurationname</span>] [-<span style=color:#a6e22e>sdk</span> [<span style=color:#a6e22e>sdkfullpath</span> | <span style=color:#a6e22e>sdkname</span>]] [<span style=color:#a6e22e>action</span> …] [<span style=color:#a6e22e>buildsetting</span>=<span style=color:#a6e22e>value</span> …] [-<span style=color:#a6e22e>userdefault</span>=<span style=color:#a6e22e>value</span> …]<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#ae81ff>4</span>. <span style=color:#a6e22e>xcodebuild</span> -<span style=color:#a6e22e>version</span> [-<span style=color:#a6e22e>sdk</span> [<span style=color:#a6e22e>sdkfullpath</span> | <span style=color:#a6e22e>sdkname</span>]] [<span style=color:#a6e22e>infoitem</span>]<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#ae81ff>5</span>. <span style=color:#a6e22e>xcodebuild</span> -<span style=color:#a6e22e>showsdks</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#ae81ff>6</span>. <span style=color:#a6e22e>xcodebuild</span> -<span style=color:#a6e22e>showBuildSettings</span> [-<span style=color:#a6e22e>project</span> <span style=color:#a6e22e>name</span>.<span style=color:#a6e22e>xcodeproj</span> | [-<span style=color:#a6e22e>workspace</span> <span style=color:#a6e22e>name</span>.<span style=color:#a6e22e>xcworkspace</span> -<span style=color:#a6e22e>scheme</span> <span style=color:#a6e22e>schemename</span>]]<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#ae81ff>7</span>. <span style=color:#a6e22e>xcodebuild</span> -<span style=color:#a6e22e>list</span> [-<span style=color:#a6e22e>project</span> <span style=color:#a6e22e>name</span>.<span style=color:#a6e22e>xcodeproj</span> | -<span style=color:#a6e22e>workspace</span> <span style=color:#a6e22e>name</span>.<span style=color:#a6e22e>xcworkspace</span>]<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#ae81ff>8</span>. <span style=color:#a6e22e>xcodebuild</span> -<span style=color:#a6e22e>exportArchive</span> -<span style=color:#a6e22e>archivePath</span> <span style=color:#a6e22e>xcarchivepath</span> -<span style=color:#a6e22e>exportPath</span> <span style=color:#a6e22e>destinationpath</span> -<span style=color:#a6e22e>exportOptionsPlist</span> <span style=color:#a6e22e>path</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#ae81ff>9</span>. <span style=color:#a6e22e>xcodebuild</span> -<span style=color:#a6e22e>exportLocalizations</span> -<span style=color:#a6e22e>project</span> <span style=color:#a6e22e>name</span>.<span style=color:#a6e22e>xcodeproj</span> -<span style=color:#a6e22e>localizationPath</span> <span style=color:#a6e22e>path</span> [[-<span style=color:#a6e22e>exportLanguage</span> <span style=color:#a6e22e>language</span>] …]<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#ae81ff>10</span>. <span style=color:#a6e22e>xcodebuild</span> -<span style=color:#a6e22e>importLocalizations</span> -<span style=color:#a6e22e>project</span> <span style=color:#a6e22e>name</span>.<span style=color:#a6e22e>xcodeproj</span> -<span style=color:#a6e22e>localizationPath</span> <span style=color:#a6e22e>path</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>上面10个命令最主要的还是前3个。</p><p>接下来来说明一下参数：<br>-project -workspace：这两个对应的就是项目的名字。如果有多个工程，这里又没有指定，则默认为第一个工程。<br>-target：打包对应的targets，如果没有指定这默认第一个。<br>-configuration：如果没有修改这个配置，默认就是Debug和Release这两个版本，没有指定默认为Release版本。<br>-buildsetting=value &mldr;：使用此命令去修改工程的配置。<br>-scheme：指定打包的scheme。</p><p>上面这些是最最基本的命令。</p><p>上面10个命令的第一个和第二个里面的参数，其中 -target
 和 -configuration 参数可以使用 xcodebuild -list
获得，-sdk 参数可由 xcodebuild -showsdks
 获得，[buildsetting=value &mldr;] 用来覆盖工程中已有的配置。可覆盖的参数参考官方文档 <a href=https://developer.apple.com/documentation/DeveloperTools/Reference/XcodeBuildSettingRef/>Xcode Build Setting Reference</a>。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#a6e22e>build</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>Build</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>target</span> <span style=color:#a6e22e>in</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>build</span> <span style=color:#a6e22e>root</span> (<span style=color:#a6e22e>SYMROOT</span>). <span style=color:#a6e22e>This</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>default</span> <span style=color:#a6e22e>action</span>, <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>used</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>no</span> <span style=color:#a6e22e>action</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>given</span>.<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>analyze</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>Build</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>analyze</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>target</span> <span style=color:#a6e22e>or</span> <span style=color:#a6e22e>scheme</span> <span style=color:#a6e22e>from</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>build</span> <span style=color:#a6e22e>root</span> (<span style=color:#a6e22e>SYMROOT</span>). <span style=color:#a6e22e>This</span> <span style=color:#a6e22e>requires</span> <span style=color:#a6e22e>specifying</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>scheme</span>.<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>archive</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>Archive</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>scheme</span> <span style=color:#a6e22e>from</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>build</span> <span style=color:#a6e22e>root</span> (<span style=color:#a6e22e>SYMROOT</span>). <span style=color:#a6e22e>This</span> <span style=color:#a6e22e>requires</span> <span style=color:#a6e22e>specifying</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>scheme</span>.<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>test</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>Test</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>scheme</span> <span style=color:#a6e22e>from</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>build</span> <span style=color:#a6e22e>root</span> (<span style=color:#a6e22e>SYMROOT</span>). <span style=color:#a6e22e>This</span> <span style=color:#a6e22e>requires</span> <span style=color:#a6e22e>specifying</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>scheme</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>optionally</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>destination</span>.<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>installsrc</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>Copy</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>source</span> <span style=color:#a6e22e>of</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>project</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>source</span> <span style=color:#a6e22e>root</span> (<span style=color:#a6e22e>SRCROOT</span>).<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>install</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>Build</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>target</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>install</span> <span style=color:#a6e22e>it</span> <span style=color:#a6e22e>into</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>target</span>’<span style=color:#a6e22e>s</span> <span style=color:#a6e22e>installation</span> <span style=color:#a6e22e>directory</span> <span style=color:#a6e22e>in</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>distribution</span> <span style=color:#a6e22e>root</span> (<span style=color:#a6e22e>DSTROOT</span>).<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>clean</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>Remove</span> <span style=color:#a6e22e>build</span> <span style=color:#a6e22e>products</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>intermediate</span> <span style=color:#a6e22e>files</span> <span style=color:#a6e22e>from</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>build</span> <span style=color:#a6e22e>root</span> (<span style=color:#a6e22e>SYMROOT</span>).<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>上面第3个命令就是专门用来打带有Cocopods的项目，因为这个时候项目工程文件不再是xcodeproj了，而是变成了xcworkspace了。</p><p>再来说说xcrun命令。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#a6e22e>Usage</span>:<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>PackageApplication</span> [-<span style=color:#a6e22e>s</span> <span style=color:#a6e22e>signature</span>] <span style=color:#a6e22e>application</span> [-<span style=color:#a6e22e>o</span> <span style=color:#a6e22e>output_directory</span>] [-<span style=color:#a6e22e>verbose</span>] [-<span style=color:#a6e22e>plugin</span> <span style=color:#a6e22e>plugin</span>] || -<span style=color:#a6e22e>man</span> || -<span style=color:#a6e22e>help</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>Options</span>:<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>[-<span style=color:#a6e22e>s</span> <span style=color:#a6e22e>signature</span>]: <span style=color:#a6e22e>certificate</span> <span style=color:#a6e22e>name</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>resign</span> <span style=color:#a6e22e>application</span> <span style=color:#a6e22e>before</span> <span style=color:#a6e22e>packaging</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>[-<span style=color:#a6e22e>o</span> <span style=color:#a6e22e>output_directory</span>]: <span style=color:#a6e22e>specify</span> <span style=color:#a6e22e>output</span> <span style=color:#a6e22e>filename</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>[-<span style=color:#a6e22e>plugin</span> <span style=color:#a6e22e>plugin</span>]: <span style=color:#a6e22e>specify</span> <span style=color:#a6e22e>an</span> <span style=color:#a6e22e>optional</span> <span style=color:#a6e22e>plugin</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>-<span style=color:#a6e22e>help</span>: <span style=color:#a6e22e>brief</span> <span style=color:#a6e22e>help</span> <span style=color:#a6e22e>message</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>-<span style=color:#a6e22e>man</span>: <span style=color:#a6e22e>full</span> <span style=color:#a6e22e>documentation</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>-<span style=color:#a6e22e>v</span>[<span style=color:#a6e22e>erbose</span>]: <span style=color:#a6e22e>provide</span> <span style=color:#a6e22e>details</span> <span style=color:#a6e22e>during</span> <span style=color:#a6e22e>operation</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>参数不多，使用方法也很简单，xcrun -sdk iphoneos -v PackageApplication + 上述一些参数。</p><p>参数都了解之后，我们就来看看该如何用了。下面这个是使用了xcodebuild + xcrun命令写的自动化打包脚本</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim># <span style=color:#a6e22e>工程名</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>APP_NAME</span>=<span style=color:#e6db74>&#34;YourProjectName&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span># <span style=color:#a6e22e>证书</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>CODE_SIGN_DISTRIBUTION</span>=<span style=color:#e6db74>&#34;iPhone Distribution: Shanghai ******* Co., Ltd.&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span># <span style=color:#a6e22e>info</span>.<span style=color:#a6e22e>plist路径</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>project_infoplist_path</span>=<span style=color:#e6db74>&#34;./${APP_NAME}/Info.plist&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>取版本号</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>bundleShortVersion</span>=$(<span style=color:#e6db74>/usr/</span><span style=color:#a6e22e>libexec</span>/<span style=color:#a6e22e>PlistBuddy</span> -<span style=color:#a6e22e>c</span> <span style=color:#e6db74>&#34;print CFBundleShortVersionString&#34;</span> <span style=color:#e6db74>&#34;${project_infoplist_path}&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>取build值</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>bundleVersion</span>=$(<span style=color:#e6db74>/usr/</span><span style=color:#a6e22e>libexec</span>/<span style=color:#a6e22e>PlistBuddy</span> -<span style=color:#a6e22e>c</span> <span style=color:#e6db74>&#34;print CFBundleVersion&#34;</span> <span style=color:#e6db74>&#34;${project_infoplist_path}&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>DATE</span>=<span style=color:#e6db74>&#34;$(date +%Y%m%d)&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>IPANAME</span>=<span style=color:#e6db74>&#34;${APP_NAME}_V${bundleShortVersion}_${DATE}.ipa&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>要上传的ipa文件路径</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>IPA_PATH</span>=<span style=color:#e6db74>&#34;$HOME/${IPANAME}&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>echo</span> ${<span style=color:#a6e22e>IPA_PATH</span>}<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>echo</span> <span style=color:#e6db74>&#34;${IPA_PATH}&#34;</span>&gt;&gt; <span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>txt</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#e6db74>//</span><span style=color:#a6e22e>下面2行是没有Cocopods的用法</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>echo</span> <span style=color:#e6db74>&#34;=================clean=================&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>xcodebuild</span> -<span style=color:#a6e22e>target</span> <span style=color:#e6db74>&#34;${APP_NAME}&#34;</span>  -<span style=color:#a6e22e>configuration</span> <span style=color:#e6db74>&#39;Release&#39;</span> <span style=color:#a6e22e>clean</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>echo</span> <span style=color:#e6db74>&#34;+++++++++++++++++build+++++++++++++++++&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>xcodebuild</span> -<span style=color:#a6e22e>target</span> <span style=color:#e6db74>&#34;${APP_NAME}&#34;</span> -<span style=color:#a6e22e>sdk</span> <span style=color:#a6e22e>iphoneos</span> -<span style=color:#a6e22e>configuration</span> <span style=color:#e6db74>&#39;Release&#39;</span> <span style=color:#a6e22e>CODE_SIGN_IDENTITY</span>=<span style=color:#e6db74>&#34;${CODE_SIGN_DISTRIBUTION}&#34;</span> <span style=color:#a6e22e>SYMROOT</span>=<span style=color:#e6db74>&#39;$(PWD)&#39;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#e6db74>//</span><span style=color:#a6e22e>下面2行是集成有Cocopods的用法</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>echo</span> <span style=color:#e6db74>&#34;=================clean=================&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>xcodebuild</span> -<span style=color:#a6e22e>workspace</span> <span style=color:#e6db74>&#34;${APP_NAME}.xcworkspace&#34;</span> -<span style=color:#a6e22e>scheme</span> <span style=color:#e6db74>&#34;${APP_NAME}&#34;</span>  -<span style=color:#a6e22e>configuration</span> <span style=color:#e6db74>&#39;Release&#39;</span> <span style=color:#a6e22e>clean</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>echo</span> <span style=color:#e6db74>&#34;+++++++++++++++++build+++++++++++++++++&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>xcodebuild</span> -<span style=color:#a6e22e>workspace</span> <span style=color:#e6db74>&#34;${APP_NAME}.xcworkspace&#34;</span> -<span style=color:#a6e22e>scheme</span> <span style=color:#e6db74>&#34;${APP_NAME}&#34;</span> -<span style=color:#a6e22e>sdk</span> <span style=color:#a6e22e>iphoneos</span> -<span style=color:#a6e22e>configuration</span> <span style=color:#e6db74>&#39;Release&#39;</span> <span style=color:#a6e22e>CODE_SIGN_IDENTITY</span>=<span style=color:#e6db74>&#34;${CODE_SIGN_DISTRIBUTION}&#34;</span> <span style=color:#a6e22e>SYMROOT</span>=<span style=color:#e6db74>&#39;$(PWD)&#39;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>xcrun</span> -<span style=color:#a6e22e>sdk</span> <span style=color:#a6e22e>iphoneos</span> <span style=color:#a6e22e>PackageApplication</span> <span style=color:#e6db74>&#34;./Release-iphoneos/${APP_NAME}.app&#34;</span> -<span style=color:#a6e22e>o</span> ~/<span style=color:#e6db74>&#34;${IPANAME}&#34;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h5 id=2-gym-命令>2. gym 命令</h5><p>说到gym，就要先说一下fastlane。
fastlane是一套自动化打包的工具集，用 Ruby 写的，用于 iOS 和 Android 的自动化打包和发布等工作。gym是其中的打包命令。</p><p>fastlane 的官网看<a href=https://fastlane.tools/>这里</a>, fastlane 的 github 看<a href=https://github.com/fastlane/fastlane>这里</a></p><p>要想使用gym，先要安装fastlane。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#a6e22e>sudo</span> <span style=color:#a6e22e>gem</span> <span style=color:#a6e22e>install</span> <span style=color:#a6e22e>fastlane</span> --<span style=color:#a6e22e>verbose</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>fastlane包含了我们日常编码之后要上线时候进行操作的所有命令。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#a6e22e>deliver</span>：<span style=color:#a6e22e>上传屏幕截图</span>、<span style=color:#a6e22e>二进制程序数据和应用程序到AppStore</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>snapshot</span>：<span style=color:#a6e22e>自动截取你的程序在每个设备上的图片</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>frameit</span>：<span style=color:#a6e22e>应用截屏外添加设备框架</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>pem</span>：<span style=color:#a6e22e>可以自动化地生成和更新应用推送通知描述文件</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>sigh</span>：<span style=color:#a6e22e>生成下载开发商店的配置文件</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>produce</span>：<span style=color:#a6e22e>利用命令行在iTunes</span> <span style=color:#a6e22e>Connect创建一个新的iOS</span> <span style=color:#a6e22e>app</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>cert</span>：<span style=color:#a6e22e>自动创建iOS证书</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>pilot</span>：<span style=color:#a6e22e>最好的在终端管理测试和建立的文件</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>boarding</span>：<span style=color:#a6e22e>很容易的方式邀请beta测试</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>gym</span>：<span style=color:#a6e22e>建立新的发布的版本</span>，<span style=color:#a6e22e>打包</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>match</span>：<span style=color:#a6e22e>使用git同步你成员间的开发者证书和文件配置</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>scan</span>：<span style=color:#a6e22e>在iOS和Mac</span> <span style=color:#a6e22e>app上执行测试用例</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>整个发布过程可以用fastlane描述成下面这样</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#a6e22e>lane</span> :<span style=color:#a6e22e>appstore</span> <span style=color:#a6e22e>do</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>  <span style=color:#a6e22e>increment_build_number</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>  <span style=color:#a6e22e>cocoapods</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>  <span style=color:#a6e22e>xctool</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>  <span style=color:#a6e22e>snapshot</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>  <span style=color:#a6e22e>sigh</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>  <span style=color:#a6e22e>deliver</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>  <span style=color:#a6e22e>frameit</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>  <span style=color:#a6e22e>sh</span> <span style=color:#e6db74>&#34;./customScript.sh&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>  <span style=color:#a6e22e>slack</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>end</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>PS：这里可能大家还会听过一个命令叫 <a href=https://github.com/facebook/xctool>xctool</a>
xctool是官方xcodebuild命令的一个增强实现，输出的内容比xcodebuild直观可读得多。通过brew即可安装。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#a6e22e>brew</span> <span style=color:#a6e22e>install</span> <span style=color:#a6e22e>xctool</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p>使用gym自动化打包，<a href=https://github.com/xilin/ios-build-script/blob/master/build_using_gym.sh>脚本</a>如下</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim>#<span style=color:#a6e22e>计时</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>SECONDS</span>=<span style=color:#ae81ff>0</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>假设脚本放置在与项目相同的路径下</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>project_path</span>=$(<span style=color:#a6e22e>pwd</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>取当前时间字符串添加到文件结尾</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>now</span>=$(<span style=color:#a6e22e>date</span> +<span style=color:#e6db74>&#34;%Y_%m_%d_%H_%M_%S&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>指定项目的scheme名称</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>scheme</span>=<span style=color:#e6db74>&#34;DemoScheme&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>指定要打包的配置名</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>configuration</span>=<span style=color:#e6db74>&#34;Adhoc&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>指定打包所使用的输出方式</span>，<span style=color:#a6e22e>目前支持app</span>-<span style=color:#a6e22e>store</span>, <span style=color:#a6e22e>package</span>, <span style=color:#a6e22e>ad</span>-<span style=color:#a6e22e>hoc</span>, <span style=color:#a6e22e>enterprise</span>, <span style=color:#a6e22e>development</span>, <span style=color:#a6e22e>和developer</span>-<span style=color:#a6e22e>id</span>，<span style=color:#a6e22e>即xcodebuild的method参数</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>export_method</span>=<span style=color:#e6db74>&#39;ad-hoc&#39;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>指定项目地址</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>workspace_path</span>=<span style=color:#e6db74>&#34;$project_path/Demo.xcworkspace&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>指定输出路径</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>output_path</span>=<span style=color:#e6db74>&#34;/Users/your_username/Documents/&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>指定输出归档文件地址</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>archive_path</span>=<span style=color:#e6db74>&#34;$output_path/Demo_${now}.xcarchive&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>指定输出ipa地址</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>ipa_path</span>=<span style=color:#e6db74>&#34;$output_path/Demo_${now}.ipa&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>指定输出ipa名称</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>ipa_name</span>=<span style=color:#e6db74>&#34;Demo_${now}.ipa&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>获取执行命令时的commit</span> <span style=color:#a6e22e>message</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>commit_msg</span>=<span style=color:#e6db74>&#34;$1&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>输出设定的变量值</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>echo</span> <span style=color:#e6db74>&#34;===workspace path: ${workspace_path}===&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>echo</span> <span style=color:#e6db74>&#34;===archive path: ${archive_path}===&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>echo</span> <span style=color:#e6db74>&#34;===ipa path: ${ipa_path}===&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>echo</span> <span style=color:#e6db74>&#34;===export method: ${export_method}===&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>echo</span> <span style=color:#e6db74>&#34;===commit msg: $1===&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>先清空前一次build</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>gym</span> --<span style=color:#a6e22e>workspace</span> ${<span style=color:#a6e22e>workspace_path</span>} --<span style=color:#a6e22e>scheme</span> ${<span style=color:#a6e22e>scheme</span>} --<span style=color:#a6e22e>clean</span> --<span style=color:#a6e22e>configuration</span> ${<span style=color:#a6e22e>configuration</span>} --<span style=color:#a6e22e>archive_path</span> ${<span style=color:#a6e22e>archive_path</span>} --<span style=color:#a6e22e>export_method</span> ${<span style=color:#a6e22e>export_method</span>} --<span style=color:#a6e22e>output_directory</span> ${<span style=color:#a6e22e>output_path</span>} --<span style=color:#a6e22e>output_name</span> ${<span style=color:#a6e22e>ipa_name</span>}<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>输出总用时</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>echo</span> <span style=color:#e6db74>&#34;===Finished. Total time: ${SECONDS}s===&#34;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h4 id=四-打包完成自动化上传-fir--蒲公英-第三方平台>四. 打包完成自动化上传 fir / 蒲公英 第三方平台</h4><p>要上传到 fir / 蒲公英 第三方平台，都需要注册一个账号，获得token，之后才能进行脚本化操作。</p><h5 id=1-自动化上传fir>1. 自动化上传fir</h5><p>安装fir-clifir的命令行工具<br>需要先装好ruby再执行</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim><span style=color:#a6e22e>gem</span> <span style=color:#a6e22e>install</span> <span style=color:#a6e22e>fir</span>-<span style=color:#a6e22e>cli</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim>#<span style=color:#a6e22e>上传到fir</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>fir</span> <span style=color:#a6e22e>publish</span> ${<span style=color:#a6e22e>ipa_path</span>} -<span style=color:#a6e22e>T</span> <span style=color:#a6e22e>fir_token</span> -<span style=color:#a6e22e>c</span> <span style=color:#e6db74>&#34;${commit_msg}&#34;</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h5 id=2自动化上传蒲公英>2.自动化上传蒲公英</h5><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vim data-lang=vim>#<span style=color:#a6e22e>蒲公英上的User</span> <span style=color:#a6e22e>Key</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>uKey</span>=<span style=color:#e6db74>&#34;7381f97070*****c01fae439fb8b24e&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>蒲公英上的API</span> <span style=color:#a6e22e>Key</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>apiKey</span>=<span style=color:#e6db74>&#34;0b27b5c145*****718508f2ad0409ef4&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>要上传的ipa文件路径</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>IPA_PATH</span>=$(<span style=color:#a6e22e>cat</span> <span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>txt</span>)<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>rm</span> -<span style=color:#a6e22e>rf</span> <span style=color:#a6e22e>text</span>.<span style=color:#a6e22e>txt</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>#<span style=color:#a6e22e>执行上传至蒲公英的命令</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>echo</span> <span style=color:#e6db74>&#34;++++++++++++++upload+++++++++++++&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>curl</span> -<span style=color:#a6e22e>F</span> <span style=color:#e6db74>&#34;file=@${IPA_PATH}&#34;</span> -<span style=color:#a6e22e>F</span> <span style=color:#e6db74>&#34;uKey=${uKey}&#34;</span> -<span style=color:#a6e22e>F</span> <span style=color:#e6db74>&#34;_api_key=${apiKey}&#34;</span> <span style=color:#a6e22e>http</span>:<span style=color:#e6db74>//</span><span style=color:#a6e22e>www</span>.<span style=color:#a6e22e>pgyer</span>.<span style=color:#a6e22e>com</span><span style=color:#e6db74>/apiv1/</span><span style=color:#a6e22e>app</span>/<span style=color:#a6e22e>upload</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h4 id=五-完整的持续集成流程>五. 完整的持续集成流程</h4><p>经过上面的持续化集成，现在我们就拥有了如下完整持续集成的流程</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_35.png alt></p><h4 id=六-jenkins--docker>六. Jenkins + Docker</h4><p>关于Jenkins的部署，其实是分以下两种：
单节点（Master）部署
这种部署适用于大多数项目，其构建任务较轻，数量较少，单个节点就足以满足日常开发所需。
多节点(Master-Slave)部署
通常规模较大，代码提交频繁（意味着构建频繁），自动化测试压力较大的项目都会采取这种部署结构。在这种部署结构下，Master通常只充当管理者的角色，负责任务的调度，slave节点的管理，任务状态的收集等工作，而具体的构建任务则会分配给slave节点。一个Master节点理论上可以管理的slave节点数是没有上限的，但通常随着数量的增加，其性能以及稳定性就会有不同程度的下降，具体的影响则因Master硬件性能的高低而不同。</p><p>但是多节点部署又会有一些缺陷，当测试用例变得海量以后，会造成一些问题，于是有人设计出了下面这种部署结构，Jenkins + Docker</p><p><img src=https://img.halfrost.com/Blog/ArticleImage/18_36.png alt></p><p>由于笔者现在的项目还处于单节点（Master）部署，关于多节点(Master-Slave)部署也没有实践经验，改进版本的Docker更是没有接触过，但是如果有这种海量测试用例，高压力的大量复杂的回归测试的需求的，那推荐大家看这篇<a href=http://www.zjbonline.com/2016/03/05/Jenkins-Docker%E6%90%AD%E5%BB%BA%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83/>文章</a>。</p><h4 id=最后>最后</h4><p>以上就是我关于Jenkins持续集成的一次实践经验。分享给大家，如果里面有什么错误，欢迎大家多多指教。</p><img src=https://img.halfrost.com/wechat-qr-code.png></div></article><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=/>Home</a></li><li><a href=https://books.halfrost.com/>Books</a></li><li><a href=https://github.com/halfrost/Halfrost-Field>Github</a></li><li><a href=https://halfrost.me/>About</a></li><li><a href=/index.xml>RSS</a></li></ul></div><div id=toc-footer style=display:none><nav id=TableOfContents><ul><li><ul><li><ul><li><a href=#前言>前言</a></li><li><a href=#一-为什么我们需要持续集成>一. 为什么我们需要持续集成</a></li><li><a href=#二-持续化集成工具jenkins>二. 持续化集成工具——Jenkins</a></li><li><a href=#三-ios自动化打包命令xcodebuild--xcrun-和-fastlane---gym-命令>三. iOS自动化打包命令——xcodebuild + xcrun 和 fastlane - gym 命令</a></li><li><a href=#四-打包完成自动化上传-fir--蒲公英-第三方平台>四. 打包完成自动化上传 fir / 蒲公英 第三方平台</a></li><li><a href=#五-完整的持续集成流程>五. 完整的持续集成流程</a></li><li><a href=#六-jenkins--docker>六. Jenkins + Docker</a></li><li><a href=#最后>最后</a></li></ul></li></ul></li></ul></nav></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f"><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&text=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae"><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae"><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&is_video=false&description=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae"><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae&body=Check out this article: https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f"><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae"><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae"><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.stumbleupon.com/submit?url=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae"><i class="fab fa-stumbleupon fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://digg.com/submit?url=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&title=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae"><i class="fab fa-digg fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&name=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae&description=%e5%89%8d%e8%a8%80%20%e4%bc%97%e6%89%80%e5%91%a8%e7%9f%a5%ef%bc%8c%e7%8e%b0%e5%9c%a8App%e7%9a%84%e7%ab%9e%e4%ba%89%e5%b7%b2%e7%bb%8f%e5%88%b0%e4%ba%86%e7%94%a8%e6%88%b7%e4%bd%93%e9%aa%8c%e4%b8%ba%e7%8e%8b%ef%bc%8c%e8%b4%a8%e9%87%8f%e4%b8%ba%e4%b8%8a%e7%9a%84%e7%99%bd%e7%83%ad%e5%8c%96%e9%98%b6%e6%ae%b5%e3%80%82%e7%94%a8%e6%88%b7%e4%bb%ac%e9%83%bd%e6%98%af%e5%be%88%e6%8c%91%e5%89%94%e7%9a%84%e3%80%82%e5%a6%82%e6%9e%9c%e4%b8%80%e4%b8%aa%e5%85%ac%e5%8f%b8%e7%9a%84%e6%8e%a8%e5%b9%bf%e5%9b%a2%e9%98%9f%e5%a5%bd%e4%b8%8d%e5%ae%b9%e6%98%93%e7%a0%b8%e4%ba%86%e9%87%8d%e9%87%91%e6%8e%a8%e5%b9%bf%e4%ba%86%e4%b8%80%e4%b8%aaAPP%ef%bc%8c%e5%a5%bd%e4%b8%8d%e5%ae%b9%e6%98%93%e6%9c%89%e4%ba%86%e4%b8%80%e4%ba%9b%e7%94%a8%e6%88%b7%ef%bc%8c%e7%94%b1%e4%ba%8e%e4%b8%80%e6%ac%a1%e7%ba%bf%e4%b8%8a%e7%9a%84bug%e5%af%bc%e8%87%b4%e4%b8%80%e6%89%b9%e7%9a%84%e7%94%a8%e6%88%b7%e5%9c%a8%e4%bd%bf%e7%94%a8%e4%b8%ad%e7%ba%b7%e7%ba%b7%e5%87%ba%e7%8e%b0%e9%97%aa%e9%80%80bug%ef%bc%8c%e8%bd%bb%e5%88%99%ef%bc%8c%e5%be%88%e5%8f%af%e8%83%bd%e5%89%8d%e6%9c%9f%e6%8e%a8%e5%b9%bf%e7%a0%b8%e7%9a%84%e9%92%b1%e9%83%bd%e7%99%bd%e8%b4%b9%e4%ba%86%ef%bc%8c%e9%87%8d%e5%88%99%ef%bc%8c%e5%8f%a3%e7%a2%91%e4%b8%8d%e5%a5%bd%ef%bc%8c%e6%9c%aa%e6%9d%a5%e4%b9%9f%e6%8f%90%e5%8d%87%e4%b8%8d%e8%b5%b7%e7%94%a8%e6%88%b7%e9%87%8f%e6%9d%a5%e4%ba%86%e3%80%82%e9%9d%99%e4%b8%8b%e5%bf%83%e6%9d%a5%e5%88%86%e6%9e%90%e4%b8%80%e4%b8%8b%e9%97%ae%e9%a2%98%e7%9a%84%e5%8e%9f%e5%9b%a0%ef%bc%8c%e6%97%a0%e5%a4%96%e4%b9%8e%e5%b0%b1%e6%98%af%e8%b4%a8%e9%87%8f%e6%b2%a1%e6%9c%89%e8%bf%87%e5%85%b3%e5%b0%b1%e4%b8%8a%e7%ba%bf%e4%ba%86%e3%80%82%e9%99%a4%e5%8e%bb%e4%b8%bb%e8%a7%82%e7%9a%84%e4%b8%80%e4%ba%9b%e5%9b%a0%e7%b4%a0%ef%bc%8c%e5%be%88%e5%a4%a7%e9%83%a8%e5%88%86%e7%9a%84%e5%ae%a2%e8%a7%82%e5%9b%a0%e7%b4%a0%e6%88%91%e8%a7%89%e5%be%97%e5%8f%af%e4%bb%a5%e8%a2%ab%e6%88%91%e4%bb%ac%e9%98%b2%e8%8c%83%e7%9a%84%e3%80%82%e6%a0%b9%e6%8d%ae%e5%a4%a7%e7%a5%9e%e4%bb%ac%e6%8f%90%e5%87%ba%e7%9a%84%e4%b8%80%e5%a5%97%e5%bc%80%e5%8f%91%e8%a7%84%e8%8c%83%e5%bb%ba%e8%ae%ae%ef%bc%8cCI%20%2b%20FDD%ef%bc%8c%e5%b0%b1%e5%8f%af%e4%bb%a5%e5%b8%ae%e5%8a%a9%e6%88%91%e4%bb%ac%e6%9e%81%e5%a4%a7%e7%a8%8b%e5%ba%a6%e7%9a%84%e8%a7%a3%e5%86%b3%e5%ae%a2%e8%a7%82%e5%9b%a0%e7%b4%a0%e3%80%82%e6%9c%ac%e6%96%87%e6%8e%a5%e4%b8%8b%e6%9d%a5%e4%b8%bb%e8%a6%81%e8%ae%a8%e8%ae%ba%20Continuous%20Integration%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%ef%bc%88%e7%ae%80%e7%a7%b0CI%ef%bc%89%0a%23%23%23%23%e7%9b%ae%e5%bd%95%0a%201.%e4%b8%ba%e4%bb%80%e4%b9%88%e6%88%91%e4%bb%ac%e9%9c%80%e8%a6%81%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%202.%e6%8c%81%e7%bb%ad%e5%8c%96%e9%9b%86%e6%88%90%e5%b7%a5%e5%85%b7%e2%80%94%e2%80%94Jenkins%203.iOS%e8%87%aa%e5%8a%a8%e5%8c%96%e6%89%93%e5%8c%85%e5%91%bd%e4%bb%a4%e2%80%94%e2%80%94xcodebuild%20%2b%20xcrun%20%e5%92%8c%20fastlane%20-%20gym%20%e5%91%bd%e4%bb%a4%204.%e6%89%93%e5%8c%85%e5%ae%8c%e6%88%90%e8%87%aa%e5%8a%a8%e5%8c%96%e4%b8%8a%e4%bc%a0%20fir%20%2f%20%e8%92%b2%e5%85%ac%e8%8b%b1%20%e7%ac%ac%e4%b8%89%e6%96%b9%e5%b9%b3%e5%8f%b0%205.%e5%ae%8c%e6%95%b4%e7%9a%84%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e6%b5%81%e7%a8%8b%206.Jenkins%20%2b%20Docker%20%20%e4%b8%80.%20%e4%b8%ba%e4%bb%80%e4%b9%88%e6%88%91%e4%bb%ac%e9%9c%80%e8%a6%81%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20%e8%b0%88%e5%88%b0%e4%b8%ba%e4%bb%80%e4%b9%88%e9%9c%80%e8%a6%81%e7%9a%84%e9%97%ae%e9%a2%98%ef%bc%8c%e6%88%91%e4%bb%ac%e5%b0%b1%e9%9c%80%e8%a6%81%e4%bb%8e%e4%bb%80%e4%b9%88%e6%98%af%e6%9d%a5%e8%af%b4%e8%b5%b7%e3%80%82%e9%82%a3%e4%bb%80%e4%b9%88%e6%98%af%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e5%91%a2%e3%80%82%0a%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e6%98%af%e4%b8%80%e7%a7%8d%e8%bd%af%e4%bb%b6%e5%bc%80%e5%8f%91%e5%ae%9e%e8%b7%b5%ef%bc%9a%e8%ae%b8%e5%a4%9a%e5%9b%a2%e9%98%9f%e9%a2%91%e7%b9%81%e5%9c%b0%e9%9b%86%e6%88%90%e4%bb%96%e4%bb%ac%e7%9a%84%e5%b7%a5%e4%bd%9c%ef%bc%8c%e6%af%8f%e4%bd%8d%e6%88%90%e5%91%98%e9%80%9a%e5%b8%b8%e8%bf%9b%e8%a1%8c%e6%97%a5%e5%b8%b8%e9%9b%86%e6%88%90%ef%bc%8c%e8%bf%9b%e8%80%8c%e6%af%8f%e5%a4%a9%e4%bc%9a%e6%9c%89%e5%a4%9a%e7%a7%8d%e9%9b%86%e6%88%90%e3%80%82%e6%af%8f%e4%b8%aa%e9%9b%86%e6%88%90%e4%bc%9a%e7%94%b1%e8%87%aa%e5%8a%a8%e7%9a%84%e6%9e%84%e5%bb%ba%ef%bc%88%e5%8c%85%e6%8b%ac%e6%b5%8b%e8%af%95%ef%bc%89%e6%9d%a5%e5%b0%bd%e5%8f%af%e8%83%bd%e5%bf%ab%e5%9c%b0%e6%a3%80%e6%b5%8b%e9%94%99%e8%af%af%e3%80%82%e8%ae%b8%e5%a4%9a%e5%9b%a2%e9%98%9f%e5%8f%91%e7%8e%b0%e8%bf%99%e7%a7%8d%e6%96%b9%e6%b3%95%e5%8f%af%e4%bb%a5%e6%98%be%e8%91%97%e7%9a%84%e5%87%8f%e5%b0%91%e9%9b%86%e6%88%90%e9%97%ae%e9%a2%98%e5%b9%b6%e4%b8%94%e5%8f%af%e4%bb%a5%e4%bd%bf%e5%9b%a2%e9%98%9f%e5%bc%80%e5%8f%91%e6%9b%b4%e5%8a%a0%e5%bf%ab%e6%8d%b7%e3%80%82%0a%20CI%e6%98%af%e4%b8%80%e7%a7%8d%e5%bc%80%e5%8f%91%e5%ae%9e%e8%b7%b5%e3%80%82%e5%ae%9e%e8%b7%b5%e5%ba%94%e8%af%a5%e5%8c%85%e5%90%ab3%e4%b8%aa%e5%9f%ba%e6%9c%ac%e6%a8%a1%e5%9d%97%ef%bc%8c%e4%b8%80%e4%b8%aa%e5%8f%af%e4%bb%a5%e8%87%aa%e5%8a%a8%e6%9e%84%e5%bb%ba%e7%9a%84%e8%bf%87%e7%a8%8b%ef%bc%8c%e8%87%aa%e5%8a%a8%e7%bc%96%e8%af%91%e4%bb%a3%e7%a0%81%ef%bc%8c%e5%8f%af%e4%bb%a5%e8%87%aa%e5%8a%a8%e5%88%86%e5%8f%91%ef%bc%8c%e9%83%a8%e7%bd%b2%e5%92%8c%e6%b5%8b%e8%af%95%e3%80%82%e4%b8%80%e4%b8%aa%e4%bb%a3%e7%a0%81%e4%bb%93%e5%ba%93%ef%bc%8cSVN%e6%88%96%e8%80%85Git%e3%80%82%e6%9c%80%e5%90%8e%e4%b8%80%e4%b8%aa%e6%98%af%e4%b8%80%e4%b8%aa%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e7%9a%84%e6%9c%8d%e5%8a%a1%e5%99%a8%e3%80%82%e9%80%9a%e8%bf%87%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%ef%bc%8c%e5%8f%af%e4%bb%a5%e8%ae%a9%e6%88%91%e4%bb%ac%e9%80%9a%e8%bf%87%e8%87%aa%e5%8a%a8%e5%8c%96%e7%ad%89%e6%89%8b%e6%ae%b5%e9%ab%98%e9%a2%91%e7%8e%87%e5%9c%b0%e5%8e%bb%e8%8e%b7%e5%8f%96%e4%ba%a7%e5%93%81%e5%8f%8d%e9%a6%88%e5%b9%b6%e5%93%8d%e5%ba%94%e5%8f%8d%e9%a6%88%e7%9a%84%e8%bf%87%e7%a8%8b%e3%80%82%0a%e9%82%a3%e4%b9%88%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e8%83%bd%e7%bb%99%e6%88%91%e4%bb%ac%e5%b8%a6%e6%9d%a5%e4%ba%9b%e4%bb%80%e4%b9%88%e5%a5%bd%e5%a4%84%e5%91%a2%ef%bc%9f%e8%bf%99%e9%87%8c%e6%8e%a8%e8%8d%90%e4%b8%80%e7%af%87%e6%96%87%e7%ab%a0%ef%bc%8c%e6%96%87%e7%ab%a0%e4%b8%ad%e6%8a%8aContinuous%20integration%c2%a0%28CI%29%20and%c2%a0test-driven%20development%c2%a0%28TDD%29%e5%88%86%e6%88%90%e4%ba%8612%e4%b8%aa%e6%ad%a5%e9%aa%a4%e3%80%82%e7%84%b6%e8%80%8c%e5%b8%a6%e6%9d%a5%e7%9a%84%e5%a5%bd%e5%a4%84%e6%88%90%e5%80%8d%e5%a2%9e%e5%8a%a0%ef%bc%8c%e6%9c%8924%e7%82%b9%e5%a5%bd%e5%a4%84%e3%80%82%0a%e6%88%91%e6%9d%a5%e8%af%b4%e8%af%b4%e7%94%a8%e4%ba%86CI%e4%bb%a5%e5%90%8e%e5%b8%a6%e6%9d%a5%e7%9a%84%e4%b8%80%e4%ba%9b%e6%b7%b1%e6%9c%89%e4%bd%93%e4%bc%9a%e7%9a%84%e4%bc%98%e7%82%b9%e3%80%82%0a1.%20%e7%bc%a9%e5%87%8f%e5%bc%80%e5%8f%91%e5%91%a8%e6%9c%9f%ef%bc%8c%e5%bf%ab%e9%80%9f%e8%bf%ad%e4%bb%a3%e7%89%88%e6%9c%ac%20%e6%af%8f%e4%b8%aa%e7%89%88%e6%9c%ac%e5%bc%80%e5%a7%8b%e9%83%bd%e4%bc%9a%e4%bc%b0%e7%ae%97%e5%a5%bd%e5%bc%80%e5%8f%91%e5%91%a8%e6%9c%9f%ef%bc%8c%e4%bd%86%e6%98%af%e6%80%bb%e4%bc%9a%e5%9b%a0%e4%b8%ba%e5%90%84%e7%a7%8d%e4%ba%8b%e6%83%85%e8%80%8c%e5%bb%b6%e6%9c%9f%e3%80%82%e8%bf%99%e5%85%b6%e4%b8%ad%e5%8c%85%e6%8b%ac%e4%ba%86%e4%b8%80%e4%ba%9b%e5%ae%a2%e8%a7%82%e5%9b%a0%e7%b4%a0%e3%80%82%e7%94%b1%e4%ba%8e%e4%ba%a7%e5%93%81%e7%ba%bf%e5%a2%9e%e5%a4%9a%ef%bc%8c%e8%bf%ad%e4%bb%a3%e9%80%9f%e5%ba%a6%e8%b6%8a%e6%9d%a5%e8%b6%8a%e5%bf%ab%ef%bc%8c%e7%bb%99%e6%b5%8b%e8%af%95%e5%b8%a6%e6%9d%a5%e7%9a%84%e5%8e%8b%e5%8a%9b%e4%b9%9f%e8%b6%8a%e6%9d%a5%e8%b6%8a%e5%a4%a7%e3%80%82%e5%a6%82%e6%9e%9c%e6%b5%8b%e8%af%95%e9%83%bd%e5%9c%a8%e5%bc%80%e5%8f%91%e5%ae%8c%e5%85%a8%e5%bc%80%e5%8f%91%e5%ae%8c%e6%88%90%e4%b9%8b%e5%90%8e%e5%86%8d%e6%9d%a5%e6%b5%8b%e8%af%95%ef%bc%8c%e9%82%a3%e5%b0%b1%e4%bc%9a%e5%bd%b1%e5%93%8d%e5%be%88%e9%95%bf%e4%b8%80%e6%ae%b5%e6%97%b6%e9%97%b4%e3%80%82%e8%bf%99%e6%97%b6%e5%80%99%e7%94%b1%e4%ba%8e%e9%9b%86%e6%88%90%e6%99%9a%e5%b0%b1%e4%bc%9a%e4%b8%a5%e9%87%8d%e6%8b%96%e6%85%a2%e9%a1%b9%e7%9b%ae%e8%8a%82%e5%a5%8f%e3%80%82%e5%a6%82%e6%9e%9c%e8%83%bd%e5%b0%bd%e6%97%a9%e7%9a%84%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%ef%bc%8c%e5%b0%bd%e5%bf%ab%e8%bf%9b%e5%85%a5%e4%b8%8a%e5%9b%be%e7%9a%8412%e6%ad%a5%e9%aa%a4%e7%9a%84%e8%bf%ad%e4%bb%a3%e7%8e%af%e4%b8%ad%ef%bc%8c%e5%b0%b1%e5%8f%af%e4%bb%a5%e5%b0%bd%e6%97%a9%e7%9a%84%e6%9a%b4%e9%9c%b2%e5%87%ba%e9%97%ae%e9%a2%98%ef%bc%8c%e6%8f%90%e6%97%a9%e8%a7%a3%e5%86%b3%ef%bc%8c%e5%b0%bd%e9%87%8f%e5%9c%a8%e8%a7%84%e5%ae%9a%e6%97%b6%e9%97%b4%e5%86%85%e5%ae%8c%e6%88%90%e4%bb%bb%e5%8a%a1%e3%80%82%0a2.%20%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%81%e6%b0%b4%e7%ba%bf%e6%93%8d%e4%bd%9c%e5%b8%a6%e6%9d%a5%e7%9a%84%e9%ab%98%e6%95%88%20%e5%85%b6%e5%ae%9e%e6%89%93%e5%8c%85%e5%af%b9%e4%ba%8e%e5%bc%80%e5%8f%91%e4%ba%ba%e5%91%98%e6%9d%a5%e8%af%b4%e6%98%af%e4%b8%80%e4%bb%b6%e5%be%88%e8%80%97%e6%97%b6%ef%bc%8c%e8%80%8c%e4%b8%94%e6%b2%a1%e6%9c%89%e5%be%88%e5%a4%a7%e6%8a%80%e6%9c%af%e5%90%ab%e9%87%8f%e7%9a%84%e5%b7%a5%e4%bd%9c%e3%80%82%e5%a6%82%e6%9e%9c%e5%bc%80%e5%8f%91%e4%ba%ba%e5%91%98%e4%b8%80%e5%a4%9a%ef%bc%8c%e7%9b%b8%e4%ba%92%e6%94%b9%e7%9a%84%e4%bb%a3%e7%a0%81%e5%86%b2%e7%aa%81%e7%9a%84%e5%87%a0%e7%8e%87%e5%b0%b1%e8%b6%8a%e5%a4%a7%ef%bc%8c%e5%8a%a0%e4%b8%8a%e6%b2%a1%e6%9c%89%e4%ba%a7%e7%ba%bf%e7%ae%a1%e7%90%86%e6%9c%ba%e5%88%b6%ef%bc%8c%e4%bb%a3%e7%a0%81%e4%bb%93%e5%ba%93%e7%9a%84%e4%bb%a3%e7%a0%81%e8%b4%a8%e9%87%8f%e5%be%88%e9%9a%be%e4%bf%9d%e8%af%81%e3%80%82%e5%9b%a2%e9%98%9f%e9%87%8c%e9%9d%a2%e4%bc%9a%e8%8a%b1%e4%b8%80%e4%ba%9b%e6%97%b6%e9%97%b4%e6%9d%a5%e8%a7%a3%e5%86%b3%e5%86%b2%e7%aa%81%ef%bc%8c%e8%a7%a3%e5%86%b3%e5%ae%8c%e4%ba%86%e5%86%b2%e7%aa%81%e8%bf%98%e9%9c%80%e8%a6%81%e8%87%aa%e5%b7%b1%e6%89%8b%e5%8a%a8%e6%89%93%e5%8c%85%e3%80%82%e8%bf%99%e4%b8%aa%e6%97%b6%e5%80%99%e5%a6%82%e6%9e%9c%e8%af%81%e4%b9%a6%e5%8f%88%e4%b8%8d%e5%af%b9%ef%bc%8c%e5%8f%88%e8%a6%81%e8%80%bd%e8%af%af%e5%a5%bd%e9%95%bf%e6%97%b6%e9%97%b4%e3%80%82%e8%bf%99%e4%ba%9b%e6%97%b6%e9%97%b4%e5%85%b6%e5%ae%9e%e5%8f%af%e4%bb%a5%e7%94%a8%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e6%9d%a5%e8%8a%82%e7%ba%a6%e8%b5%b7%e6%9d%a5%e7%9a%84%e3%80%82%e4%b8%80%e5%a4%a9%e4%b8%a4%e5%a4%a9%e7%9c%8b%e7%9d%80%e4%b8%8d%e5%a4%9a%ef%bc%8c%e4%bd%86%e6%98%af%e6%8c%89%e7%85%a7%e5%b9%b4%e7%9a%84%e5%8d%95%e4%bd%8d%e6%9d%a5%e8%ae%a1%e7%ae%97%ef%bc%8c%e5%8f%af%e4%bb%a5%e8%8a%82%e7%ba%a6%e5%be%88%e5%a4%9a%e6%97%b6%e9%97%b4%ef%bc%81%0a3.%20%e9%9a%8f%e6%97%b6%e5%8f%af%e9%83%a8%e7%bd%b2%20%e6%9c%89%e4%ba%86%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e4%bb%a5%e5%90%8e%ef%bc%8c%e6%88%91%e4%bb%ac%e5%8f%af%e4%bb%a5%e4%bb%a5%e5%a4%a9%e4%b8%ba%e5%8d%95%e4%bd%8d%e6%9d%a5%e6%89%93%e5%8c%85%ef%bc%8c%e8%bf%99%e7%a7%8d%e9%ab%98%e9%a2%91%e7%8e%87%e7%9a%84%e9%9b%86%e6%88%90%e5%b8%a6%e6%9d%a5%e7%9a%84%e6%9c%80%e5%a4%a7%e7%9a%84%e4%bc%98%e7%82%b9%e5%b0%b1%e6%98%af%e5%8f%af%e4%bb%a5%e9%9a%8f%e6%97%b6%e9%83%a8%e7%bd%b2%e4%b8%8a%e7%ba%bf%e3%80%82%e8%bf%99%e6%a0%b7%e5%b0%b1%e4%b8%8d%e4%bc%9a%e5%af%bc%e8%87%b4%e5%bf%ab%e8%a6%81%e4%b8%8a%e7%ba%bf%ef%bc%8c%e5%88%b0%e5%a4%84%e6%98%af%e6%bc%8f%e6%b4%9e%ef%bc%8c%e5%88%b0%e5%a4%84%e6%98%afbug%ef%bc%8c%e6%89%8b%e5%bf%99%e8%84%9a%e4%b9%b1%e5%bc%84%e5%ae%8c%e4%bb%a5%e5%90%8e%e8%bf%98%e4%b8%8d%e8%83%bd%e9%83%a8%e7%bd%b2%ef%bc%8c%e4%b8%a5%e9%87%8d%e5%bd%b1%e5%93%8d%e4%b8%8a%e7%ba%bf%e6%97%b6%e9%97%b4%e3%80%82%0a4.%20%e6%9e%81%e5%a4%a7%e7%a8%8b%e5%ba%a6%e9%81%bf%e5%85%8d%e4%bd%8e%e7%ba%a7%e9%94%99%e8%af%af%20%e6%88%91%e4%bb%ac%e5%8f%af%e4%bb%a5%e7%8a%af%e9%94%99%e8%af%af%ef%bc%8c%e4%bd%86%e6%98%af%e7%8a%af%e4%bd%8e%e7%ba%a7%e9%94%99%e8%af%af%e5%b0%b1%e5%be%88%e4%b8%8d%e5%ba%94%e8%af%a5%e3%80%82%e8%bf%99%e9%87%8c%e6%8c%87%e7%9a%84%e4%bd%8e%e7%ba%a7%e9%94%99%e8%af%af%e5%8c%85%e6%8b%ac%e4%bb%a5%e4%b8%8b%e5%87%a0%e7%82%b9%ef%bc%9a%e7%bc%96%e8%af%91%e9%94%99%e8%af%af%ef%bc%8c%e5%ae%89%e8%a3%85%e9%97%ae%e9%a2%98%ef%bc%8c%e6%8e%a5%e5%8f%a3%e9%97%ae%e9%a2%98%ef%bc%8c%e6%80%a7%e8%83%bd%e9%97%ae%e9%a2%98%e3%80%82%20%e4%bb%a5%e5%a4%a9%e4%b8%ba%e5%8d%95%e4%bd%8d%e7%9a%84%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%ef%bc%8c%e5%8f%af%e4%bb%a5%e5%be%88%e5%bf%ab%e5%8f%91%e7%8e%b0%e7%bc%96%e8%af%91%e9%97%ae%e9%a2%98%ef%bc%8c%e8%87%aa%e5%8a%a8%e6%89%93%e5%8c%85%e7%9b%b4%e6%8e%a5%e6%97%a0%e6%b3%95%e9%80%9a%e8%bf%87%e3%80%82%e6%89%93%e5%ae%8c%e5%8c%85%e4%bb%a5%e5%90%8e%ef%bc%8c%e6%b5%8b%e8%af%95%e6%89%ab%e7%a0%81%e6%97%a0%e6%b3%95%e5%ae%89%e8%a3%85%ef%bc%8c%e8%bf%99%e7%a7%8d%e9%97%ae%e9%a2%98%e4%b9%9f%e4%bc%9a%e7%ab%8b%e5%8d%b3%e8%a2%ab%e6%9a%b4%e9%9c%b2%e5%87%ba%e6%9d%a5%e3%80%82%e6%8e%a5%e5%8f%a3%e9%97%ae%e9%a2%98%e5%92%8c%e6%80%a7%e8%83%bd%e9%97%ae%e9%a2%98%e5%b0%b1%e6%9c%89%e8%87%aa%e5%8a%a8%e5%8c%96%e6%b5%8b%e8%af%95%e8%84%9a%e6%9c%ac%e6%9d%a5%e5%8f%91%e7%8e%b0%e3%80%82%e8%bf%99%e4%ba%9b%e4%bd%8e%e7%ba%a7%e9%97%ae%e9%a2%98%e7%94%b1%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e6%9d%a5%e6%9a%b4%e9%9c%b2%e5%b1%95%e7%8e%b0%e5%87%ba%e6%9d%a5%ef%bc%8c%e6%8f%90%e9%86%92%e6%88%91%e4%bb%ac%e9%81%bf%e5%85%8d%e4%bd%8e%e7%ba%a7%e9%94%99%e8%af%af%e3%80%82%0a%e4%ba%8c.%20%e6%8c%81%e7%bb%ad%e5%8c%96%e9%9b%86%e6%88%90%e5%b7%a5%e5%85%b7%e2%80%94%e2%80%94Jenkins%20Jenkins%20%e6%98%af%e4%b8%80%e4%b8%aa%e5%bc%80%e6%ba%90%e9%a1%b9%e7%9b%ae%ef%bc%8c%e6%8f%90%e4%be%9b%e4%ba%86%e4%b8%80%e7%a7%8d%e6%98%93%e4%ba%8e%e4%bd%bf%e7%94%a8%e7%9a%84%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e7%b3%bb%e7%bb%9f%ef%bc%8c%e4%bd%bf%e5%bc%80%e5%8f%91%e8%80%85%e4%bb%8e%e7%b9%81%e6%9d%82%e7%9a%84%e9%9b%86%e6%88%90%e4%b8%ad%e8%a7%a3%e8%84%b1%e5%87%ba%e6%9d%a5%ef%bc%8c%e4%b8%93%e6%b3%a8%e4%ba%8e%e6%9b%b4%e4%b8%ba%e9%87%8d%e8%a6%81%e7%9a%84%e4%b8%9a%e5%8a%a1%e9%80%bb%e8%be%91%e5%ae%9e%e7%8e%b0%e4%b8%8a%e3%80%82%e5%90%8c%e6%97%b6%20Jenkins%20%e8%83%bd%e5%ae%9e%e6%96%bd%e7%9b%91%e6%8e%a7%e9%9b%86%e6%88%90%e4%b8%ad%e5%ad%98%e5%9c%a8%e7%9a%84%e9%94%99%e8%af%af%ef%bc%8c%e6%8f%90%e4%be%9b%e8%af%a6%e7%bb%86%e7%9a%84%e6%97%a5%e5%bf%97%e6%96%87%e4%bb%b6%e5%92%8c%e6%8f%90%e9%86%92%e5%8a%9f%e8%83%bd%ef%bc%8c%e8%bf%98%e8%83%bd%e7%94%a8%e5%9b%be%e8%a1%a8%e7%9a%84%e5%bd%a2%e5%bc%8f%e5%bd%a2%e8%b1%a1%e5%9c%b0%e5%b1%95%e7%a4%ba%e9%a1%b9%e7%9b%ae%e6%9e%84%e5%bb%ba%e7%9a%84%e8%b6%8b%e5%8a%bf%e5%92%8c%e7%a8%b3%e5%ae%9a%e6%80%a7%e3%80%82%0a%e6%a0%b9%e6%8d%ae%e5%ae%98%e6%96%b9%e5%ae%9a%e4%b9%89%ef%bc%8cJenkins%e6%9c%89%e4%bb%a5%e4%b8%8b%e7%9a%84%e7%94%a8%e9%80%94%ef%bc%9a%0a%20%e6%9e%84%e5%bb%ba%e9%a1%b9%e7%9b%ae%20%e8%b7%91%e6%b5%8b%e8%af%95%e7%94%a8%e4%be%8b%e6%a3%80%e6%b5%8bbug%20%e9%9d%99%e6%80%81%e4%bb%a3%e7%a0%81%e6%a3%80%e6%b5%8b%20%e9%83%a8%e7%bd%b2%20%20%e5%85%b3%e4%ba%8e%e8%bf%994%e7%82%b9%ef%bc%8c%e5%ae%9e%e9%99%85%e4%bd%bf%e7%94%a8%e4%b8%ad%e8%bf%98%e6%98%af%e6%af%94%e8%be%83%e6%96%b9%e4%be%bf%e7%9a%84%ef%bc%9a%201."><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fnew.halfrost.com%2fios_jenkins%2f&t=%e6%89%8b%e6%8a%8a%e6%89%8b%e6%95%99%e4%bd%a0%e5%88%a9%e7%94%a8%20Jenkins%20%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%20iOS%20%e9%a1%b9%e7%9b%ae"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu class=icon href=# onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden=true></i>Menu</a>
<a id=toc class=icon href=# onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden=true></i>TOC</a>
<a id=share class=icon href=# onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden=true></i>share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i>Top</a></div></div></div><footer id=footer><div class=footer-left><p class=copyright style=float:left;margin-bottom:0><a href=https://github.com/halfrost/Halfrost-Field class=github-repo style=height:18px><span class=gadget-github></span>Star</a>
Copyright &copy;halfrost 2016 - 2021
<a href=http://www.miit.gov.cn/>鄂ICP备16014744号</a></p><br><p class="copyright statistics" style=margin-bottom:20px><span id=busuanzi_container_site_pv>Cumulative Page Views <span id=busuanzi_value_site_pv></span>| Unique Visitors <span id=busuanzi_value_site_uv></span></span></p></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script><script src=/main.min.f870a4d110314b9e50e65f8ac982dc1c9c376c8f1a5083d39c62cfc49073f011.js></script><script async src=/prism.js></script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']]},svg:{fontCache:'global'}};</script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></html>