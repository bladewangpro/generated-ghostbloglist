<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=theme-color content="#FFFFFF"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Ghost 博客炫技"新"玩法 | prometheus</title><meta name=description content="Explore in every moment of the hard thinking"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="Ghost 博客炫技&#34;新&#34;玩法"><meta property="og:description" content="由于 Ghost 升级到了最新版本，新增加了很多玩法。这里罗列一下“新”玩法，也是对笔者博客新功能的说明。
如果读者也想修改自己的主题，那么请先阅读官方的文档：
ghost themes
ghost api
Ghost 添加导航页面 之前老版本的博客没有导航功能，也有读者问过这个事情，这次既然升级了，首先完成这个需求。
新版本的博客导航功能放到了 footer 上了。可能有人问为何不放在 header 上。我尝试了好几种位置，都觉得不太合适，还是放在 footer 上了。
footer 上主要分了 3 列，TAGS、ABOUT、NEWSLETTER。
一般博客都会有标签，归档，友链，关于，订阅。这次一口气都加全了。
给每篇文章添加封面 由于受到了知乎专栏的 CSS 影响，加上 Ghost 本身也支持 cover 功能，所以笔者在这次升级的时候，把原来的主题重新修改了，把 cover 封面重新添加回来了。
用过知乎专栏的朋友会知道，每篇文章一进去，就是一个占满全屏的封面题图，这种设计笔者觉得挺好的，所以也“抄”过来了。
其他的设计也说一下，题目标题上面是文章对应的 tag。文章下面有预估阅读时间，这个是根据人类平均阅读时间每分钟 100 个字算出来的。右下角是文章作者的名字和头像，以及文章发布时间。
最上一排增加了 3 个 iconfont 的按钮，返回按钮是为了 PWA 特意增加的，不然不能返回到主页了。搜索和侧边栏也都是这次增加的新功能，下面会细说。
文章添加目录 这个功能也是读者提过的需求。因为有些文章比较长，常常容易看到后面忘记了前面，如果有一个目录，可以分章节阅读文章，也可以迅速浏览目录，抓住文章脉络。这次升级笔者也加上了这个功能。
文章目录这个功能的不难，只要遍历一遍 markdown 的标题就可以了。github 上可以找到现成的 jquery 版本的代码 jquery.toc.js。引用它，然后初始化的时候加上自己的配置：
//初始化 toc 插件  $('#toc').initTOC({ selector: &#34;h1, h2, h3, h4, h5, h6&#34;, scope: &#34;article&#34;, overwrite: false, prefix: &#34;toc&#34; }); selector 代表会搜索 markdown 文章标题的层级深度，这里是从 h1 - h6 。scope 表示的是 toc 搜索范围，由于在 ghost 中文章是在 <article> 标签里面的，所以这里 scope 为 article。"><meta property="og:type" content="article"><meta property="og:url" content="https://new.halfrost.com/ghost_feature/"><meta property="article:published_time" content="2018-06-30T08:55:00+00:00"><meta property="article:modified_time" content="2018-06-30T08:55:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Ghost 博客炫技&#34;新&#34;玩法"><meta name=twitter:description content="由于 Ghost 升级到了最新版本，新增加了很多玩法。这里罗列一下“新”玩法，也是对笔者博客新功能的说明。
如果读者也想修改自己的主题，那么请先阅读官方的文档：
ghost themes
ghost api
Ghost 添加导航页面 之前老版本的博客没有导航功能，也有读者问过这个事情，这次既然升级了，首先完成这个需求。
新版本的博客导航功能放到了 footer 上了。可能有人问为何不放在 header 上。我尝试了好几种位置，都觉得不太合适，还是放在 footer 上了。
footer 上主要分了 3 列，TAGS、ABOUT、NEWSLETTER。
一般博客都会有标签，归档，友链，关于，订阅。这次一口气都加全了。
给每篇文章添加封面 由于受到了知乎专栏的 CSS 影响，加上 Ghost 本身也支持 cover 功能，所以笔者在这次升级的时候，把原来的主题重新修改了，把 cover 封面重新添加回来了。
用过知乎专栏的朋友会知道，每篇文章一进去，就是一个占满全屏的封面题图，这种设计笔者觉得挺好的，所以也“抄”过来了。
其他的设计也说一下，题目标题上面是文章对应的 tag。文章下面有预估阅读时间，这个是根据人类平均阅读时间每分钟 100 个字算出来的。右下角是文章作者的名字和头像，以及文章发布时间。
最上一排增加了 3 个 iconfont 的按钮，返回按钮是为了 PWA 特意增加的，不然不能返回到主页了。搜索和侧边栏也都是这次增加的新功能，下面会细说。
文章添加目录 这个功能也是读者提过的需求。因为有些文章比较长，常常容易看到后面忘记了前面，如果有一个目录，可以分章节阅读文章，也可以迅速浏览目录，抓住文章脉络。这次升级笔者也加上了这个功能。
文章目录这个功能的不难，只要遍历一遍 markdown 的标题就可以了。github 上可以找到现成的 jquery 版本的代码 jquery.toc.js。引用它，然后初始化的时候加上自己的配置：
//初始化 toc 插件  $('#toc').initTOC({ selector: &#34;h1, h2, h3, h4, h5, h6&#34;, scope: &#34;article&#34;, overwrite: false, prefix: &#34;toc&#34; }); selector 代表会搜索 markdown 文章标题的层级深度，这里是从 h1 - h6 。scope 表示的是 toc 搜索范围，由于在 ghost 中文章是在 <article> 标签里面的，所以这里 scope 为 article。"><link rel=stylesheet href=/css/style-white.min.css><link rel=manifest href=/manifest.json><link rel=stylesheet href=/prism.css><link href=/images/apple-touch-icon-60x60.png rel=apple-touch-icon sizes=60x60><link href=/images/apple-touch-icon-76x76.png rel=apple-touch-icon sizes=76x76><link href=/images/apple-touch-icon-120x120.png rel=apple-touch-icon sizes=120x120><link href=/images/apple-touch-icon-152x152.png rel=apple-touch-icon sizes=152x152><link href=/images/apple-touch-icon-180x180.png rel=apple-touch-icon sizes=180x180><link href=/images/apple-touch-icon-512x512.png rel=apple-touch-icon sizes=512x512><link href=/images/apple-touch-icon-1024x1024.png rel=apple-touch-icon sizes=1024x1024><script async>if('serviceWorker'in navigator){navigator.serviceWorker.register("\/serviceworker-v1.min.a64912b78d282eab1ad3715a0943da21616e5f326f8afea27034784ad445043b.js").then(function(){if(navigator.serviceWorker.controller){console.log('Assets cached by the controlling service worker.');}else{console.log('Please reload this page to allow the service worker to handle network operations.');}}).catch(function(error){console.log('ERROR: '+error);});}else{console.log('Service workers are not supported in the current browser.');}</script><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://new.halfrost.com/images/favicon.ico><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-82753806-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class="single-max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a><a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a><a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast');" style=display:none><i class="fas fa-chevron-up fa-lg"></i></a><span id=menu><span id=nav><ul><li><a href=/>Home</a></li><li><a href=https://books.halfrost.com/>Books</a></li><li><a href=https://github.com/halfrost/Halfrost-Field>Github</a></li><li><a href=https://halfrost.me/>About</a></li><li><a href=/index.xml>RSS</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=https://new.halfrost.com/ghost_update/><i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li><li><a class=icon href=https://new.halfrost.com/ghost_fast/><i class="fas fa-chevron-right" aria-hidden=true onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li><li><a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast');"><i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li><li><a class=icon href=#><i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f"><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&text=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95"><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&title=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95"><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&is_video=false&description=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95"><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95&body=Check out this article: https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f"><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&title=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95"><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&title=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95"><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.stumbleupon.com/submit?url=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&title=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95"><i class="fab fa-stumbleupon" aria-hidden=true></i></a></li><li><a class=icon href="http://digg.com/submit?url=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&title=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95"><i class="fab fa-digg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&name=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95&description=%e7%94%b1%e4%ba%8e%20Ghost%20%e5%8d%87%e7%ba%a7%e5%88%b0%e4%ba%86%e6%9c%80%e6%96%b0%e7%89%88%e6%9c%ac%ef%bc%8c%e6%96%b0%e5%a2%9e%e5%8a%a0%e4%ba%86%e5%be%88%e5%a4%9a%e7%8e%a9%e6%b3%95%e3%80%82%e8%bf%99%e9%87%8c%e7%bd%97%e5%88%97%e4%b8%80%e4%b8%8b%e2%80%9c%e6%96%b0%e2%80%9d%e7%8e%a9%e6%b3%95%ef%bc%8c%e4%b9%9f%e6%98%af%e5%af%b9%e7%ac%94%e8%80%85%e5%8d%9a%e5%ae%a2%e6%96%b0%e5%8a%9f%e8%83%bd%e7%9a%84%e8%af%b4%e6%98%8e%e3%80%82%0a%e5%a6%82%e6%9e%9c%e8%af%bb%e8%80%85%e4%b9%9f%e6%83%b3%e4%bf%ae%e6%94%b9%e8%87%aa%e5%b7%b1%e7%9a%84%e4%b8%bb%e9%a2%98%ef%bc%8c%e9%82%a3%e4%b9%88%e8%af%b7%e5%85%88%e9%98%85%e8%af%bb%e5%ae%98%e6%96%b9%e7%9a%84%e6%96%87%e6%a1%a3%ef%bc%9a%0aghost%20themes%0aghost%20api%0aGhost%20%e6%b7%bb%e5%8a%a0%e5%af%bc%e8%88%aa%e9%a1%b5%e9%9d%a2%20%e4%b9%8b%e5%89%8d%e8%80%81%e7%89%88%e6%9c%ac%e7%9a%84%e5%8d%9a%e5%ae%a2%e6%b2%a1%e6%9c%89%e5%af%bc%e8%88%aa%e5%8a%9f%e8%83%bd%ef%bc%8c%e4%b9%9f%e6%9c%89%e8%af%bb%e8%80%85%e9%97%ae%e8%bf%87%e8%bf%99%e4%b8%aa%e4%ba%8b%e6%83%85%ef%bc%8c%e8%bf%99%e6%ac%a1%e6%97%a2%e7%84%b6%e5%8d%87%e7%ba%a7%e4%ba%86%ef%bc%8c%e9%a6%96%e5%85%88%e5%ae%8c%e6%88%90%e8%bf%99%e4%b8%aa%e9%9c%80%e6%b1%82%e3%80%82%0a%e6%96%b0%e7%89%88%e6%9c%ac%e7%9a%84%e5%8d%9a%e5%ae%a2%e5%af%bc%e8%88%aa%e5%8a%9f%e8%83%bd%e6%94%be%e5%88%b0%e4%ba%86%20footer%20%e4%b8%8a%e4%ba%86%e3%80%82%e5%8f%af%e8%83%bd%e6%9c%89%e4%ba%ba%e9%97%ae%e4%b8%ba%e4%bd%95%e4%b8%8d%e6%94%be%e5%9c%a8%20header%20%e4%b8%8a%e3%80%82%e6%88%91%e5%b0%9d%e8%af%95%e4%ba%86%e5%a5%bd%e5%87%a0%e7%a7%8d%e4%bd%8d%e7%bd%ae%ef%bc%8c%e9%83%bd%e8%a7%89%e5%be%97%e4%b8%8d%e5%a4%aa%e5%90%88%e9%80%82%ef%bc%8c%e8%bf%98%e6%98%af%e6%94%be%e5%9c%a8%20footer%20%e4%b8%8a%e4%ba%86%e3%80%82%0afooter%20%e4%b8%8a%e4%b8%bb%e8%a6%81%e5%88%86%e4%ba%86%203%20%e5%88%97%ef%bc%8cTAGS%e3%80%81ABOUT%e3%80%81NEWSLETTER%e3%80%82%0a%e4%b8%80%e8%88%ac%e5%8d%9a%e5%ae%a2%e9%83%bd%e4%bc%9a%e6%9c%89%e6%a0%87%e7%ad%be%ef%bc%8c%e5%bd%92%e6%a1%a3%ef%bc%8c%e5%8f%8b%e9%93%be%ef%bc%8c%e5%85%b3%e4%ba%8e%ef%bc%8c%e8%ae%a2%e9%98%85%e3%80%82%e8%bf%99%e6%ac%a1%e4%b8%80%e5%8f%a3%e6%b0%94%e9%83%bd%e5%8a%a0%e5%85%a8%e4%ba%86%e3%80%82%0a%e7%bb%99%e6%af%8f%e7%af%87%e6%96%87%e7%ab%a0%e6%b7%bb%e5%8a%a0%e5%b0%81%e9%9d%a2%20%e7%94%b1%e4%ba%8e%e5%8f%97%e5%88%b0%e4%ba%86%e7%9f%a5%e4%b9%8e%e4%b8%93%e6%a0%8f%e7%9a%84%20CSS%20%e5%bd%b1%e5%93%8d%ef%bc%8c%e5%8a%a0%e4%b8%8a%20Ghost%20%e6%9c%ac%e8%ba%ab%e4%b9%9f%e6%94%af%e6%8c%81%20cover%20%e5%8a%9f%e8%83%bd%ef%bc%8c%e6%89%80%e4%bb%a5%e7%ac%94%e8%80%85%e5%9c%a8%e8%bf%99%e6%ac%a1%e5%8d%87%e7%ba%a7%e7%9a%84%e6%97%b6%e5%80%99%ef%bc%8c%e6%8a%8a%e5%8e%9f%e6%9d%a5%e7%9a%84%e4%b8%bb%e9%a2%98%e9%87%8d%e6%96%b0%e4%bf%ae%e6%94%b9%e4%ba%86%ef%bc%8c%e6%8a%8a%20cover%20%e5%b0%81%e9%9d%a2%e9%87%8d%e6%96%b0%e6%b7%bb%e5%8a%a0%e5%9b%9e%e6%9d%a5%e4%ba%86%e3%80%82%0a%e7%94%a8%e8%bf%87%e7%9f%a5%e4%b9%8e%e4%b8%93%e6%a0%8f%e7%9a%84%e6%9c%8b%e5%8f%8b%e4%bc%9a%e7%9f%a5%e9%81%93%ef%bc%8c%e6%af%8f%e7%af%87%e6%96%87%e7%ab%a0%e4%b8%80%e8%bf%9b%e5%8e%bb%ef%bc%8c%e5%b0%b1%e6%98%af%e4%b8%80%e4%b8%aa%e5%8d%a0%e6%bb%a1%e5%85%a8%e5%b1%8f%e7%9a%84%e5%b0%81%e9%9d%a2%e9%a2%98%e5%9b%be%ef%bc%8c%e8%bf%99%e7%a7%8d%e8%ae%be%e8%ae%a1%e7%ac%94%e8%80%85%e8%a7%89%e5%be%97%e6%8c%ba%e5%a5%bd%e7%9a%84%ef%bc%8c%e6%89%80%e4%bb%a5%e4%b9%9f%e2%80%9c%e6%8a%84%e2%80%9d%e8%bf%87%e6%9d%a5%e4%ba%86%e3%80%82%0a%e5%85%b6%e4%bb%96%e7%9a%84%e8%ae%be%e8%ae%a1%e4%b9%9f%e8%af%b4%e4%b8%80%e4%b8%8b%ef%bc%8c%e9%a2%98%e7%9b%ae%e6%a0%87%e9%a2%98%e4%b8%8a%e9%9d%a2%e6%98%af%e6%96%87%e7%ab%a0%e5%af%b9%e5%ba%94%e7%9a%84%20tag%e3%80%82%e6%96%87%e7%ab%a0%e4%b8%8b%e9%9d%a2%e6%9c%89%e9%a2%84%e4%bc%b0%e9%98%85%e8%af%bb%e6%97%b6%e9%97%b4%ef%bc%8c%e8%bf%99%e4%b8%aa%e6%98%af%e6%a0%b9%e6%8d%ae%e4%ba%ba%e7%b1%bb%e5%b9%b3%e5%9d%87%e9%98%85%e8%af%bb%e6%97%b6%e9%97%b4%e6%af%8f%e5%88%86%e9%92%9f%20100%20%e4%b8%aa%e5%ad%97%e7%ae%97%e5%87%ba%e6%9d%a5%e7%9a%84%e3%80%82%e5%8f%b3%e4%b8%8b%e8%a7%92%e6%98%af%e6%96%87%e7%ab%a0%e4%bd%9c%e8%80%85%e7%9a%84%e5%90%8d%e5%ad%97%e5%92%8c%e5%a4%b4%e5%83%8f%ef%bc%8c%e4%bb%a5%e5%8f%8a%e6%96%87%e7%ab%a0%e5%8f%91%e5%b8%83%e6%97%b6%e9%97%b4%e3%80%82%0a%e6%9c%80%e4%b8%8a%e4%b8%80%e6%8e%92%e5%a2%9e%e5%8a%a0%e4%ba%86%203%20%e4%b8%aa%20iconfont%20%e7%9a%84%e6%8c%89%e9%92%ae%ef%bc%8c%e8%bf%94%e5%9b%9e%e6%8c%89%e9%92%ae%e6%98%af%e4%b8%ba%e4%ba%86%20PWA%20%e7%89%b9%e6%84%8f%e5%a2%9e%e5%8a%a0%e7%9a%84%ef%bc%8c%e4%b8%8d%e7%84%b6%e4%b8%8d%e8%83%bd%e8%bf%94%e5%9b%9e%e5%88%b0%e4%b8%bb%e9%a1%b5%e4%ba%86%e3%80%82%e6%90%9c%e7%b4%a2%e5%92%8c%e4%be%a7%e8%be%b9%e6%a0%8f%e4%b9%9f%e9%83%bd%e6%98%af%e8%bf%99%e6%ac%a1%e5%a2%9e%e5%8a%a0%e7%9a%84%e6%96%b0%e5%8a%9f%e8%83%bd%ef%bc%8c%e4%b8%8b%e9%9d%a2%e4%bc%9a%e7%bb%86%e8%af%b4%e3%80%82%0a%e6%96%87%e7%ab%a0%e6%b7%bb%e5%8a%a0%e7%9b%ae%e5%bd%95%20%e8%bf%99%e4%b8%aa%e5%8a%9f%e8%83%bd%e4%b9%9f%e6%98%af%e8%af%bb%e8%80%85%e6%8f%90%e8%bf%87%e7%9a%84%e9%9c%80%e6%b1%82%e3%80%82%e5%9b%a0%e4%b8%ba%e6%9c%89%e4%ba%9b%e6%96%87%e7%ab%a0%e6%af%94%e8%be%83%e9%95%bf%ef%bc%8c%e5%b8%b8%e5%b8%b8%e5%ae%b9%e6%98%93%e7%9c%8b%e5%88%b0%e5%90%8e%e9%9d%a2%e5%bf%98%e8%ae%b0%e4%ba%86%e5%89%8d%e9%9d%a2%ef%bc%8c%e5%a6%82%e6%9e%9c%e6%9c%89%e4%b8%80%e4%b8%aa%e7%9b%ae%e5%bd%95%ef%bc%8c%e5%8f%af%e4%bb%a5%e5%88%86%e7%ab%a0%e8%8a%82%e9%98%85%e8%af%bb%e6%96%87%e7%ab%a0%ef%bc%8c%e4%b9%9f%e5%8f%af%e4%bb%a5%e8%bf%85%e9%80%9f%e6%b5%8f%e8%a7%88%e7%9b%ae%e5%bd%95%ef%bc%8c%e6%8a%93%e4%bd%8f%e6%96%87%e7%ab%a0%e8%84%89%e7%bb%9c%e3%80%82%e8%bf%99%e6%ac%a1%e5%8d%87%e7%ba%a7%e7%ac%94%e8%80%85%e4%b9%9f%e5%8a%a0%e4%b8%8a%e4%ba%86%e8%bf%99%e4%b8%aa%e5%8a%9f%e8%83%bd%e3%80%82%0a%e6%96%87%e7%ab%a0%e7%9b%ae%e5%bd%95%e8%bf%99%e4%b8%aa%e5%8a%9f%e8%83%bd%e7%9a%84%e4%b8%8d%e9%9a%be%ef%bc%8c%e5%8f%aa%e8%a6%81%e9%81%8d%e5%8e%86%e4%b8%80%e9%81%8d%20markdown%20%e7%9a%84%e6%a0%87%e9%a2%98%e5%b0%b1%e5%8f%af%e4%bb%a5%e4%ba%86%e3%80%82github%20%e4%b8%8a%e5%8f%af%e4%bb%a5%e6%89%be%e5%88%b0%e7%8e%b0%e6%88%90%e7%9a%84%20jquery%20%e7%89%88%e6%9c%ac%e7%9a%84%e4%bb%a3%e7%a0%81%20jquery.toc.js%e3%80%82%e5%bc%95%e7%94%a8%e5%ae%83%ef%bc%8c%e7%84%b6%e5%90%8e%e5%88%9d%e5%a7%8b%e5%8c%96%e7%9a%84%e6%97%b6%e5%80%99%e5%8a%a0%e4%b8%8a%e8%87%aa%e5%b7%b1%e7%9a%84%e9%85%8d%e7%bd%ae%ef%bc%9a%0a%2f%2f%e5%88%9d%e5%a7%8b%e5%8c%96%20toc%20%e6%8f%92%e4%bb%b6%20%20%24%28%26%2339%3b%23toc%26%2339%3b%29.initTOC%28%7b%20selector%3a%20%26%2334%3bh1%2c%20h2%2c%20h3%2c%20h4%2c%20h5%2c%20h6%26%2334%3b%2c%20scope%3a%20%26%2334%3barticle%26%2334%3b%2c%20overwrite%3a%20false%2c%20prefix%3a%20%26%2334%3btoc%26%2334%3b%20%7d%29%3b%20selector%20%e4%bb%a3%e8%a1%a8%e4%bc%9a%e6%90%9c%e7%b4%a2%20markdown%20%e6%96%87%e7%ab%a0%e6%a0%87%e9%a2%98%e7%9a%84%e5%b1%82%e7%ba%a7%e6%b7%b1%e5%ba%a6%ef%bc%8c%e8%bf%99%e9%87%8c%e6%98%af%e4%bb%8e%20h1%20-%20h6%20%e3%80%82scope%20%e8%a1%a8%e7%a4%ba%e7%9a%84%e6%98%af%20toc%20%e6%90%9c%e7%b4%a2%e8%8c%83%e5%9b%b4%ef%bc%8c%e7%94%b1%e4%ba%8e%e5%9c%a8%20ghost%20%e4%b8%ad%e6%96%87%e7%ab%a0%e6%98%af%e5%9c%a8%20%26lt%3barticle%26gt%3b%20%e6%a0%87%e7%ad%be%e9%87%8c%e9%9d%a2%e7%9a%84%ef%bc%8c%e6%89%80%e4%bb%a5%e8%bf%99%e9%87%8c%20scope%20%e4%b8%ba%20article%e3%80%82"><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&t=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div><div id=toc><nav id=TableOfContents><ul><li><a href=#ghost-添加导航页面>Ghost 添加导航页面</a></li><li><a href=#给每篇文章添加封面>给每篇文章添加封面</a></li><li><a href=#文章添加目录>文章添加目录</a></li><li><a href=#给文章添加搜索功能>给文章添加搜索功能</a></li><li><a href=#添加侧边栏>添加侧边栏</a></li><li><a href=#给-ghost-实现文章归档>给 Ghost 实现文章归档</a></li><li><a href=#添加标签>添加标签</a></li><li><a href=#友链>友链</a></li><li><a href=#disqus-评论伸缩>Disqus 评论伸缩</a></li><li><a href=#ghost博客邮件订阅>Ghost博客邮件订阅</a></li><li><a href=#最后>最后</a></li></ul></nav></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">Ghost 博客炫技"新"玩法</h1><div class=meta><div class=postdate><time datetime="2018-06-30 08:55:00 +0000 UTC" itemprop=datePublished>Jun 30</time></div><div class=article-category><i class="fas fa-archive"></i><a class=category-link href=/categories/ghost>Ghost</a></div><div class=article-tag><i class="fas fa-tag"></i><a class=tag-link href=/tags/ghost rel=tag>Ghost</a></div></div></header><div class=content itemprop=articleBody><p>由于 Ghost 升级到了最新版本，新增加了很多玩法。这里罗列一下“新”玩法，也是对笔者博客新功能的说明。</p><p>如果读者也想修改自己的主题，那么请先阅读官方的文档：</p><p><a href=https://themes.ghost.org/docs>ghost themes</a><br><a href=https://api.ghost.org/>ghost api</a></p><h2 id=ghost-添加导航页面>Ghost 添加导航页面</h2><p>之前老版本的博客没有导航功能，也有读者问过这个事情，这次既然升级了，首先完成这个需求。</p><p>新版本的博客导航功能放到了 footer 上了。可能有人问为何不放在 header 上。我尝试了好几种位置，都觉得不太合适，还是放在 footer 上了。</p><p>footer 上主要分了 3 列，TAGS、ABOUT、NEWSLETTER。</p><p>一般博客都会有标签，归档，友链，关于，订阅。这次一口气都加全了。</p><h2 id=给每篇文章添加封面>给每篇文章添加封面</h2><p>由于受到了知乎专栏的 CSS 影响，加上 Ghost 本身也支持 cover 功能，所以笔者在这次升级的时候，把原来的主题重新修改了，把 cover 封面重新添加回来了。</p><p>用过知乎专栏的朋友会知道，每篇文章一进去，就是一个占满全屏的封面题图，这种设计笔者觉得挺好的，所以也“抄”过来了。</p><p>其他的设计也说一下，题目标题上面是文章对应的 tag。文章下面有预估阅读时间，这个是根据人类平均阅读时间每分钟 100 个字算出来的。右下角是文章作者的名字和头像，以及文章发布时间。</p><p>最上一排增加了 3 个 iconfont 的按钮，返回按钮是为了 PWA 特意增加的，不然不能返回到主页了。搜索和侧边栏也都是这次增加的新功能，下面会细说。</p><h2 id=文章添加目录>文章添加目录</h2><p>这个功能也是读者提过的需求。因为有些文章比较长，常常容易看到后面忘记了前面，如果有一个目录，可以分章节阅读文章，也可以迅速浏览目录，抓住文章脉络。这次升级笔者也加上了这个功能。</p><p>文章目录这个功能的不难，只要遍历一遍 markdown 的标题就可以了。github 上可以找到现成的 jquery 版本的代码 <code>jquery.toc.js</code>。引用它，然后初始化的时候加上自己的配置：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#75715e>//初始化 toc 插件
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>$</span>(<span style=color:#e6db74>&#39;#toc&#39;</span>).<span style=color:#a6e22e>initTOC</span>({
        <span style=color:#a6e22e>selector</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;h1, h2, h3, h4, h5, h6&#34;</span>,
        <span style=color:#a6e22e>scope</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;article&#34;</span>,
        <span style=color:#a6e22e>overwrite</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>,
        <span style=color:#a6e22e>prefix</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;toc&#34;</span>
    });
</code></pre></div><p>selector 代表会搜索 markdown 文章标题的层级深度，这里是从 h1 - h6 。scope 表示的是 toc 搜索范围，由于在 ghost 中文章是在 <code>&lt;article></code> 标签里面的，所以这里 scope 为 article。</p><p>当然 toc 也不能所有屏幕尺寸大小都会限制，笔者限制在 1440 分辨率以上宽度才会显示出来，手机屏幕肯定是不会显示的。</p><h2 id=给文章添加搜索功能>给文章添加搜索功能</h2><p>这个需求是自己给自己加的，因为看见别人博客有，自己也想做一下。最终成品如下：</p><p>在 Ghost 里面想加入搜索功能，需要现在后台开启 public API ，因为它会用到 Ghost 一下实验的接口。</p><p>在 github 上找一个开源项目 <a href=https://github.com/jamalneufeld/ghostHunter>ghostHunter</a>，这个是一个大神写的 Ghost 的搜索引擎，我们搜索功能就用这个 repo 来实现。引用 <code>jquery.ghosthunter.js</code> 文件。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>    <span style=color:#75715e>// Site search
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>searchField</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>$</span>(<span style=color:#e6db74>&#39;#search-field&#39;</span>).<span style=color:#a6e22e>ghostHunter</span>({
      <span style=color:#a6e22e>results</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;#search-results&#34;</span>,
      <span style=color:#a6e22e>onKeyUp</span> <span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
      <span style=color:#a6e22e>onPageLoad</span> <span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
      <span style=color:#a6e22e>includepages</span> <span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
      <span style=color:#a6e22e>info_template</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&lt;div class=&#34;results-info&#34;&gt;Posts found: {{amount}}&lt;/div&gt;&#39;</span>,
      <span style=color:#a6e22e>result_template</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&lt;div class=&#34;result-item&#34;&gt;&lt;a href=&#34;{{link}}&#34;&gt;&lt;div class=&#34;result-title&#34;&gt;{{title}}&lt;/div&gt;&lt;div class=&#34;result-date&#34;&gt;{{pubDate}}&lt;/div&gt;&lt;/a&gt;&lt;/div&gt;&#39;</span>
    });
</code></pre></div><p>在 ghost 启动的时候加入上述脚本代码，即可完成 ghosthunter 搜索引起的初始化，其他的工作就是写 CSS 了。</p><h2 id=添加侧边栏>添加侧边栏</h2><p>加入侧边栏本意是想在每篇文章增加一些彩蛋环节，给读者一些惊喜。</p><p>侧边栏一般都是用 <code>&lt;aside></code> 标签完成的。</p><h2 id=给-ghost-实现文章归档>给 Ghost 实现文章归档</h2><p>这个功能是很多博客都有的功能，但是 Ghost 默认是不带这个功能的。没办法，只能自己来实现了。</p><p>在老版本的博客中，笔者博客是没有这个功能，一直用 github 作为博客的目录🤪，不过现在有了这个功能，说不定知道的人也不多。🤓</p><p>在 Ghost 中，允许用户针对单页做特殊的 CSS。默认样式是 page.hbs。如果用户想新增单页的样式，就需要自己新建一个文件，page-XXX.hbs，然后在发布文章的时候，选择单页，并且网址要路由到 XXX ，这样设置以后，就有单页了。</p><p>这里我们需要归档为一个单独页面，那么就需要新建 page-archives.hbs，对应的 URL 为<a href=https://halfrost.com/archives/>https://halfrost.com/archives/</a>。在 page-archives.hbs 文件中可以写上自己的样式。在这个文件中，我们插入一段拉取文章归档列表的脚本：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>script</span> <span style=color:#a6e22e>type</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;text/javascript&#34;</span><span style=color:#f92672>&gt;</span>
      <span style=color:#75715e>/**
</span><span style=color:#75715e>       * 调用ghost API，完成文章归档功能
</span><span style=color:#75715e>       * 所需组件：jQuery、moment.js
</span><span style=color:#75715e>       * @ldsun.com
</span><span style=color:#75715e>       */</span>
      <span style=color:#a6e22e>jQuery</span>(document).<span style=color:#a6e22e>ready</span>(<span style=color:#66d9ef>function</span>() {
        <span style=color:#75715e>//获取所有文章数据，按照发表时间排列
</span><span style=color:#75715e></span>        <span style=color:#a6e22e>$</span>.<span style=color:#a6e22e>get</span>(<span style=color:#a6e22e>ghost</span>.<span style=color:#a6e22e>url</span>.<span style=color:#a6e22e>api</span>(<span style=color:#e6db74>&#39;posts&#39;</span>, {
          <span style=color:#a6e22e>limit</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;all&#39;</span>,
          <span style=color:#a6e22e>order</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;published_at desc&#34;</span>
        })).<span style=color:#a6e22e>done</span>(<span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>data</span>) {
          <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>posts</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>posts</span>;
          <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>count</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>posts</span>.<span style=color:#a6e22e>length</span>;
          <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>count</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
            <span style=color:#75715e>//调用comentjs对时间戳进行操作
</span><span style=color:#75715e></span>            <span style=color:#75715e>//由于ghost默认是CST时区，所以日期会有出入，这里消除时区差
</span><span style=color:#75715e></span>            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>time</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>moment</span>(<span style=color:#a6e22e>posts</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>published_at</span>).<span style=color:#a6e22e>utcOffset</span>(<span style=color:#e6db74>&#34;-08:00&#34;</span>);
            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>year</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;y&#39;</span>);
            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>month</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;M&#39;</span>)<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>;
            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>date</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;D&#39;</span>);
            <span style=color:#66d9ef>if</span>( <span style=color:#a6e22e>date</span><span style=color:#f92672>&lt;</span><span style=color:#ae81ff>10</span> ) <span style=color:#a6e22e>date</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;0&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>date</span>;
            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>title</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>posts</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>title</span>;
            <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>url</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;{{@blog.url}}&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>posts</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>url</span>;
            <span style=color:#75715e>//首篇文章与其余文章分步操作
</span><span style=color:#75715e></span>            <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) {
              <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>pre_month</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>moment</span>(<span style=color:#a6e22e>posts</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>].<span style=color:#a6e22e>published_at</span>).<span style=color:#a6e22e>utcOffset</span>(<span style=color:#e6db74>&#34;-08:00&#34;</span>).<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;month&#39;</span>)<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>;
              <span style=color:#75715e>//如果当前文章的发表月份与前篇文章发表月份相同，则在该月份ul下插入该文章
</span><span style=color:#75715e></span>              <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>month</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>pre_month</span>) {
                <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>html</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&lt;li&gt;&lt;time&gt;&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>date</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;日&lt;/time&gt;&lt;a href=&#39;&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>url</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;&#39; style=&#39;color: #4fc3f7&#39;&gt;&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>title</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;&lt;/a&gt;&lt;/li&gt;&#34;</span>;
                <span style=color:#a6e22e>$</span>(<span style=color:#a6e22e>html</span>).<span style=color:#a6e22e>appendTo</span>(<span style=color:#e6db74>&#34;.archives .list-&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>year</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;-&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>month</span>);
              }
              <span style=color:#75715e>//当月份不同时，插入新的月份
</span><span style=color:#75715e></span>              <span style=color:#66d9ef>else</span>{
                <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>html</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&lt;div class=&#39;item&#39;&gt;&lt;h3&gt;&lt;i class=&#39;fa fa-calendar fa-fw&#39; aria-hidden=&#39;true&#39;&gt;&lt;/i&gt; &#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>year</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;-&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>month</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;&lt;/h3&gt;&lt;ul class=&#39;archives-list list-&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>year</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;-&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>month</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;&#39;&gt;&lt;li&gt;&lt;time&gt;&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>date</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;日&lt;/time&gt;&lt;a href=&#39;&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>url</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;&#39; style=&#39;color: #4fc3f7&#39;&gt;&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>title</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&#34;</span>;
                <span style=color:#a6e22e>$</span>(<span style=color:#a6e22e>html</span>).<span style=color:#a6e22e>appendTo</span>(<span style=color:#e6db74>&#39;.archives&#39;</span>);
              }
            }<span style=color:#66d9ef>else</span>{
              <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>html</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&lt;div class=&#39;item&#39;&gt;&lt;h3&gt;&lt;i class=&#39;fa fa-calendar fa-fw&#39; aria-hidden=&#39;true&#39;&gt;&lt;/i&gt; &#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>year</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;-&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>month</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;&lt;/h3&gt;&lt;ul class=&#39;archives-list list-&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>year</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;-&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>month</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;&#39;&gt;&lt;li&gt;&lt;time&gt;&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>date</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;日&lt;/time&gt;&lt;a href=&#39;&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>url</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;&#39; style=&#39;color: #4fc3f7&#39;&gt;&#34;</span><span style=color:#f92672>+</span><span style=color:#a6e22e>title</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&#34;</span>;
              <span style=color:#a6e22e>$</span>(<span style=color:#a6e22e>html</span>).<span style=color:#a6e22e>appendTo</span>(<span style=color:#e6db74>&#39;.archives&#39;</span>);
            }
          }
        }).<span style=color:#a6e22e>fail</span>(<span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>err</span>) {
          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>err</span>);
        });
      });
      <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/script&gt;</span>
</code></pre></div><p>利用上述代码，就可以完成 Ghost 上的归档功能了。</p><p>可能有人会问，这个题图是什么寓意呢？先卖个关子，下文会说明。</p><h2 id=添加标签>添加标签</h2><p>这个功能是很多博客都有的功能，但是 Ghost 默认是不带这个功能的。没办法，也只能自己来实现了。😭</p><p>笔者把近期阅读量最高的系列文章，排名前五的都罗列了出来，分 tag 放在了 footer 的 POPULAR TAGS 里，也算是给读者阅读推荐的一个“导航”。</p><p>具体做法是在 Ghost 后台 tag 管理中，找到对应的 tag，给每个 tag 都加上题图。网页路由很简单，只要按照 <code>/tag/XXX/</code> 这种方式就可以跳转到对应的 tag 页面中了。</p><h2 id=友链>友链</h2><p>这个功能之前做的比较简陋，现在在新版里面单独加一个页面来展示。具体新加单页的步骤和添加文章归档是一样的，这里就不再赘述了。</p><p>新建 page-links.hbs ，然后把这些友链信息都写到单页文章中，调整一下 CSS 即可。</p><p>眼力尖的同学应该发现了，友链的题图和文章归档的题图有些联系。</p><p>笔者在发现这一对图片的时候，当时就想好了他们的寓意，立即拿过来了。虽然不知道出自哪个游戏。</p><p>文章归档的那个题图是一个人在前行，而友链的这张图是 3 个人在前行。寓意很明显，文章归档是一个人前行的足迹，友链是朋友们相互分享的地方。</p><h2 id=disqus-评论伸缩>Disqus 评论伸缩</h2><p>这个功能其实算性能优化。有些读者没有梯子，不能翻墙也就不能评论。但是由于 Disqus 脚本会一直加载，直到超时才会停止。这样对于没有梯子的读者体验非常不好。所以加入这个伸缩的功能。具体见下图。</p><p>只有当读者点击了 COMMENTS 按钮的时候，才会开始去加载 Disqus 评论框。这样对整个文章页面的渲染也提速了。因为在加载 JS 的时候，不需要先加载 Disqus 评论框架了。</p><p>这里有一点需要注意的是，在官方文档中有这样几段说明：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>
&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;disqus_thread&#34;</span> <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;margin-left:15px;margin-right:15px;&#34;</span>&gt;&lt;/<span style=color:#f92672>div</span>&gt;
&lt;<span style=color:#f92672>script</span>&gt;

<span style=color:#75715e>/**
</span><span style=color:#75715e>*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
</span><span style=color:#75715e>*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/</span>
<span style=color:#75715e>/*
</span><span style=color:#75715e>var disqus_config = function () {
</span><span style=color:#75715e>this.page.url = PAGE_URL;  // Replace PAGE_URL with your page&#39;s canonical URL variable
</span><span style=color:#75715e>this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page&#39;s unique identifier variable
</span><span style=color:#75715e>};
</span><span style=color:#75715e>*/</span>
(<span style=color:#66d9ef>function</span>() { <span style=color:#75715e>// DON&#39;T EDIT BELOW THIS LINE
</span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>d</span> <span style=color:#f92672>=</span> document, <span style=color:#a6e22e>s</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>d</span>.<span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;script&#39;</span>);
<span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>src</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;https://halfrost.disqus.com/embed.js&#39;</span>;
<span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>setAttribute</span>(<span style=color:#e6db74>&#39;data-timestamp&#39;</span>, <span style=color:#f92672>+</span><span style=color:#66d9ef>new</span> Date());
(<span style=color:#a6e22e>d</span>.<span style=color:#a6e22e>head</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>d</span>.<span style=color:#a6e22e>body</span>).<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>s</span>);
})();
&lt;/<span style=color:#f92672>script</span>&gt;
&lt;<span style=color:#f92672>noscript</span>&gt;Please enable JavaScript to view the &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://disqus.com/?ref_noscript&#34;</span>&gt;comments powered by Disqus.&lt;/<span style=color:#f92672>a</span>&gt;&lt;/<span style=color:#f92672>noscript</span>&gt;
</code></pre></div><p>建议我们设置 <code>disqus_config</code> 变量里面的两个属性 <code>page.url</code> 和 <code>page.identifier</code>。笔者之前没有设置这个也一样可以显示。不过这篇文章<a href=https://help.disqus.com/troubleshooting/use-configuration-variables-to-avoid-split-threads-and-missing-comments>《disqus 配置 Configuration Variables 的重要性》</a>里面提到，如果不设置这两个变量，会导致性能问题。</p><h2 id=ghost博客邮件订阅>Ghost博客邮件订阅</h2><p>最后一个大的功能就是加入了博客订阅的功能。Ghost 原生也自带了博客订阅，但是目前只能收集用户的邮箱，无法给用户发博客更新邮件。</p><p>关于这个功能可以用的产品挺多的，比如 mailgun 和 mailchimp。笔者这里选用了 mailchimp。</p><p>当读者点击了 footer 上的 subscribe 按钮，就会跳转到这个页面了。这个页面是在 mailchimp 上生成的。填上邮箱就能在本博客更新的时候收到更新邮件提醒了。</p><p>具体是怎么做到的呢？可以参考这篇文章<a href=https://mailchimp.com/help/share-your-blog-posts-with-mailchimp/>《Share Your Blog Posts with MailChimp》</a>，笔者在这里写一下我的操作流程。</p><p>先在 mailchimp 上注册好账号，建立好 Lists，这个就是要发送用户的邮件组。有了 Lists 以后就要新建 Campaigns。Campaigns 是会绑定 Lists 的。新建 Campaigns 记得要选择 RSS Update。</p><p>上图是 Campaigns 的基本设置页面。在这个页面最好勾选 To Field 那一项，这一样是为了防止垃圾邮件扫描的。防止更新邮件被识别成垃圾邮件了。</p><p>这一步就是设计发送邮件的模板了。笔者设计的比较简单。这里有很多可选项。具体可以看这个文档<a href=https://mailchimp.com/help/rss-merge-tags/>《RSS Merge Tags》</a>，文档里面写了所有可用的 tags。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#a6e22e>Halfrost</span><span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>s</span> <span style=color:#a6e22e>Field</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>冰霜之地</span> <span style=color:#a6e22e>更新了新文章</span>
<span style=color:#f92672>------------------------</span>
<span style=color:#a6e22e>我在博客上发布了新文章</span><span style=color:#960050;background-color:#1e0010>，</span><span style=color:#a6e22e>希望您能喜欢</span><span style=color:#960050;background-color:#1e0010>：</span>
<span style=color:#960050;background-color:#1e0010>《</span><span style=color:#f92672>*|</span><span style=color:#a6e22e>RSSITEM</span><span style=color:#f92672>:</span><span style=color:#a6e22e>TITLE</span><span style=color:#f92672>|*</span><span style=color:#960050;background-color:#1e0010>》</span>
<span style=color:#a6e22e>在网页中查看</span><span style=color:#960050;background-color:#1e0010>：</span>

<span style=color:#f92672>*|</span><span style=color:#a6e22e>RSSITEM</span><span style=color:#f92672>:</span><span style=color:#a6e22e>URL</span><span style=color:#f92672>|*</span>

<span style=color:#f92672>*|</span><span style=color:#a6e22e>RSSITEM</span><span style=color:#f92672>:</span><span style=color:#a6e22e>DATE</span><span style=color:#f92672>|*</span> <span style=color:#a6e22e>by</span> <span style=color:#f92672>*|</span><span style=color:#a6e22e>RSSITEM</span><span style=color:#f92672>:</span><span style=color:#a6e22e>AUTHOR</span><span style=color:#f92672>|*</span>

<span style=color:#f92672>------------------------</span>
<span style=color:#f92672>*|</span><span style=color:#a6e22e>RSSFEED</span><span style=color:#f92672>:</span><span style=color:#a6e22e>DESCRIPTION</span><span style=color:#f92672>|*</span>

</code></pre></div><p>实际展示出现的内容如下：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>Halfrost&#39;s Field | 冰霜之地 更新了新文章
------------------------
我在博客上发布了新文章，希望您能喜欢：
《深入浅出 FlatBuffers 之 FlexBuffers》
在网页中查看：
http://halfrost.com/flatbuffers_flexbuffers/

Jun 16, 2018 01:24 pm by 一缕殇流化隐半边冰霜
------------------------
Explore in every moment of the cudgel thinking
</code></pre></div><p>一路 next 点下来以后，到最后一个页面别慌着点 start rss，在右上角可以选择测试 send 发送邮件，看看最终效果是否是你想要的。</p><p>最后完成配置以后，就会看见这个星星的手势了，就代表成功了。</p><h2 id=最后>最后</h2><p>以上就是本次博客升级以后新增的一些功能，至于性能优化放在下篇文章再细说吧。</p><hr><p>Reference：</p><p><a href=https://help.disqus.com/troubleshooting/use-configuration-variables-to-avoid-split-threads-and-missing-comments>disqus 配置 Configuration Variables 的重要性</a><br><a href=https://help.ghost.org/article/15-disqus>ghost 配置 disqus 方法</a><br><a href=https://xiao.lu/ghost-post-archives-page/>给 Ghost 实现文章归档</a><br><a href=https://www.ldsun.com/2016/07/23/ghost-archives/>Ghost 实现文章归档</a><br><a href=https://github.com/flute/ghost-archives/blob/master/page-archives.hbs>归档的具体代码</a>
<a href=https://mailchimp.com/help/share-your-blog-posts-with-mailchimp/>Share Your Blog Posts with MailChimp</a><br><a href=http://402v.com/ghostbo-ke-shi-yong-mailchimppei-zhi-you-jian-ding-yue/>使用MailChimp配置Ghost博客邮件订阅教程</a><br><a href=https://mailchimp.com/help/rss-merge-tags/>RSS Merge Tags</a>
<a href=https://mailchimp.com/help/preview-and-test-your-email-campaign/>Preview and Test Your Email Campaign</a></p><blockquote><p>GitHub Repo：<a href=https://github.com/halfrost/Halfrost-Field>Halfrost-Field</a></p><p>Follow: <a href=https://github.com/halfrost>halfrost · GitHub</a></p><p>Source: <a href=https://halfrost.com/ghost_feature/>https://halfrost.com/ghost_feature/</a></p></blockquote><img src=https://img.halfrost.com/wechat-qr-code.png></div></article><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=/>Home</a></li><li><a href=https://books.halfrost.com/>Books</a></li><li><a href=https://github.com/halfrost/Halfrost-Field>Github</a></li><li><a href=https://halfrost.me/>About</a></li><li><a href=/index.xml>RSS</a></li></ul></div><div id=toc-footer style=display:none><nav id=TableOfContents><ul><li><a href=#ghost-添加导航页面>Ghost 添加导航页面</a></li><li><a href=#给每篇文章添加封面>给每篇文章添加封面</a></li><li><a href=#文章添加目录>文章添加目录</a></li><li><a href=#给文章添加搜索功能>给文章添加搜索功能</a></li><li><a href=#添加侧边栏>添加侧边栏</a></li><li><a href=#给-ghost-实现文章归档>给 Ghost 实现文章归档</a></li><li><a href=#添加标签>添加标签</a></li><li><a href=#友链>友链</a></li><li><a href=#disqus-评论伸缩>Disqus 评论伸缩</a></li><li><a href=#ghost博客邮件订阅>Ghost博客邮件订阅</a></li><li><a href=#最后>最后</a></li></ul></nav></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f"><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&text=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95"><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&title=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95"><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&is_video=false&description=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95"><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95&body=Check out this article: https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f"><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&title=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95"><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&title=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95"><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.stumbleupon.com/submit?url=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&title=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95"><i class="fab fa-stumbleupon fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://digg.com/submit?url=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&title=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95"><i class="fab fa-digg fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&name=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95&description=%e7%94%b1%e4%ba%8e%20Ghost%20%e5%8d%87%e7%ba%a7%e5%88%b0%e4%ba%86%e6%9c%80%e6%96%b0%e7%89%88%e6%9c%ac%ef%bc%8c%e6%96%b0%e5%a2%9e%e5%8a%a0%e4%ba%86%e5%be%88%e5%a4%9a%e7%8e%a9%e6%b3%95%e3%80%82%e8%bf%99%e9%87%8c%e7%bd%97%e5%88%97%e4%b8%80%e4%b8%8b%e2%80%9c%e6%96%b0%e2%80%9d%e7%8e%a9%e6%b3%95%ef%bc%8c%e4%b9%9f%e6%98%af%e5%af%b9%e7%ac%94%e8%80%85%e5%8d%9a%e5%ae%a2%e6%96%b0%e5%8a%9f%e8%83%bd%e7%9a%84%e8%af%b4%e6%98%8e%e3%80%82%0a%e5%a6%82%e6%9e%9c%e8%af%bb%e8%80%85%e4%b9%9f%e6%83%b3%e4%bf%ae%e6%94%b9%e8%87%aa%e5%b7%b1%e7%9a%84%e4%b8%bb%e9%a2%98%ef%bc%8c%e9%82%a3%e4%b9%88%e8%af%b7%e5%85%88%e9%98%85%e8%af%bb%e5%ae%98%e6%96%b9%e7%9a%84%e6%96%87%e6%a1%a3%ef%bc%9a%0aghost%20themes%0aghost%20api%0aGhost%20%e6%b7%bb%e5%8a%a0%e5%af%bc%e8%88%aa%e9%a1%b5%e9%9d%a2%20%e4%b9%8b%e5%89%8d%e8%80%81%e7%89%88%e6%9c%ac%e7%9a%84%e5%8d%9a%e5%ae%a2%e6%b2%a1%e6%9c%89%e5%af%bc%e8%88%aa%e5%8a%9f%e8%83%bd%ef%bc%8c%e4%b9%9f%e6%9c%89%e8%af%bb%e8%80%85%e9%97%ae%e8%bf%87%e8%bf%99%e4%b8%aa%e4%ba%8b%e6%83%85%ef%bc%8c%e8%bf%99%e6%ac%a1%e6%97%a2%e7%84%b6%e5%8d%87%e7%ba%a7%e4%ba%86%ef%bc%8c%e9%a6%96%e5%85%88%e5%ae%8c%e6%88%90%e8%bf%99%e4%b8%aa%e9%9c%80%e6%b1%82%e3%80%82%0a%e6%96%b0%e7%89%88%e6%9c%ac%e7%9a%84%e5%8d%9a%e5%ae%a2%e5%af%bc%e8%88%aa%e5%8a%9f%e8%83%bd%e6%94%be%e5%88%b0%e4%ba%86%20footer%20%e4%b8%8a%e4%ba%86%e3%80%82%e5%8f%af%e8%83%bd%e6%9c%89%e4%ba%ba%e9%97%ae%e4%b8%ba%e4%bd%95%e4%b8%8d%e6%94%be%e5%9c%a8%20header%20%e4%b8%8a%e3%80%82%e6%88%91%e5%b0%9d%e8%af%95%e4%ba%86%e5%a5%bd%e5%87%a0%e7%a7%8d%e4%bd%8d%e7%bd%ae%ef%bc%8c%e9%83%bd%e8%a7%89%e5%be%97%e4%b8%8d%e5%a4%aa%e5%90%88%e9%80%82%ef%bc%8c%e8%bf%98%e6%98%af%e6%94%be%e5%9c%a8%20footer%20%e4%b8%8a%e4%ba%86%e3%80%82%0afooter%20%e4%b8%8a%e4%b8%bb%e8%a6%81%e5%88%86%e4%ba%86%203%20%e5%88%97%ef%bc%8cTAGS%e3%80%81ABOUT%e3%80%81NEWSLETTER%e3%80%82%0a%e4%b8%80%e8%88%ac%e5%8d%9a%e5%ae%a2%e9%83%bd%e4%bc%9a%e6%9c%89%e6%a0%87%e7%ad%be%ef%bc%8c%e5%bd%92%e6%a1%a3%ef%bc%8c%e5%8f%8b%e9%93%be%ef%bc%8c%e5%85%b3%e4%ba%8e%ef%bc%8c%e8%ae%a2%e9%98%85%e3%80%82%e8%bf%99%e6%ac%a1%e4%b8%80%e5%8f%a3%e6%b0%94%e9%83%bd%e5%8a%a0%e5%85%a8%e4%ba%86%e3%80%82%0a%e7%bb%99%e6%af%8f%e7%af%87%e6%96%87%e7%ab%a0%e6%b7%bb%e5%8a%a0%e5%b0%81%e9%9d%a2%20%e7%94%b1%e4%ba%8e%e5%8f%97%e5%88%b0%e4%ba%86%e7%9f%a5%e4%b9%8e%e4%b8%93%e6%a0%8f%e7%9a%84%20CSS%20%e5%bd%b1%e5%93%8d%ef%bc%8c%e5%8a%a0%e4%b8%8a%20Ghost%20%e6%9c%ac%e8%ba%ab%e4%b9%9f%e6%94%af%e6%8c%81%20cover%20%e5%8a%9f%e8%83%bd%ef%bc%8c%e6%89%80%e4%bb%a5%e7%ac%94%e8%80%85%e5%9c%a8%e8%bf%99%e6%ac%a1%e5%8d%87%e7%ba%a7%e7%9a%84%e6%97%b6%e5%80%99%ef%bc%8c%e6%8a%8a%e5%8e%9f%e6%9d%a5%e7%9a%84%e4%b8%bb%e9%a2%98%e9%87%8d%e6%96%b0%e4%bf%ae%e6%94%b9%e4%ba%86%ef%bc%8c%e6%8a%8a%20cover%20%e5%b0%81%e9%9d%a2%e9%87%8d%e6%96%b0%e6%b7%bb%e5%8a%a0%e5%9b%9e%e6%9d%a5%e4%ba%86%e3%80%82%0a%e7%94%a8%e8%bf%87%e7%9f%a5%e4%b9%8e%e4%b8%93%e6%a0%8f%e7%9a%84%e6%9c%8b%e5%8f%8b%e4%bc%9a%e7%9f%a5%e9%81%93%ef%bc%8c%e6%af%8f%e7%af%87%e6%96%87%e7%ab%a0%e4%b8%80%e8%bf%9b%e5%8e%bb%ef%bc%8c%e5%b0%b1%e6%98%af%e4%b8%80%e4%b8%aa%e5%8d%a0%e6%bb%a1%e5%85%a8%e5%b1%8f%e7%9a%84%e5%b0%81%e9%9d%a2%e9%a2%98%e5%9b%be%ef%bc%8c%e8%bf%99%e7%a7%8d%e8%ae%be%e8%ae%a1%e7%ac%94%e8%80%85%e8%a7%89%e5%be%97%e6%8c%ba%e5%a5%bd%e7%9a%84%ef%bc%8c%e6%89%80%e4%bb%a5%e4%b9%9f%e2%80%9c%e6%8a%84%e2%80%9d%e8%bf%87%e6%9d%a5%e4%ba%86%e3%80%82%0a%e5%85%b6%e4%bb%96%e7%9a%84%e8%ae%be%e8%ae%a1%e4%b9%9f%e8%af%b4%e4%b8%80%e4%b8%8b%ef%bc%8c%e9%a2%98%e7%9b%ae%e6%a0%87%e9%a2%98%e4%b8%8a%e9%9d%a2%e6%98%af%e6%96%87%e7%ab%a0%e5%af%b9%e5%ba%94%e7%9a%84%20tag%e3%80%82%e6%96%87%e7%ab%a0%e4%b8%8b%e9%9d%a2%e6%9c%89%e9%a2%84%e4%bc%b0%e9%98%85%e8%af%bb%e6%97%b6%e9%97%b4%ef%bc%8c%e8%bf%99%e4%b8%aa%e6%98%af%e6%a0%b9%e6%8d%ae%e4%ba%ba%e7%b1%bb%e5%b9%b3%e5%9d%87%e9%98%85%e8%af%bb%e6%97%b6%e9%97%b4%e6%af%8f%e5%88%86%e9%92%9f%20100%20%e4%b8%aa%e5%ad%97%e7%ae%97%e5%87%ba%e6%9d%a5%e7%9a%84%e3%80%82%e5%8f%b3%e4%b8%8b%e8%a7%92%e6%98%af%e6%96%87%e7%ab%a0%e4%bd%9c%e8%80%85%e7%9a%84%e5%90%8d%e5%ad%97%e5%92%8c%e5%a4%b4%e5%83%8f%ef%bc%8c%e4%bb%a5%e5%8f%8a%e6%96%87%e7%ab%a0%e5%8f%91%e5%b8%83%e6%97%b6%e9%97%b4%e3%80%82%0a%e6%9c%80%e4%b8%8a%e4%b8%80%e6%8e%92%e5%a2%9e%e5%8a%a0%e4%ba%86%203%20%e4%b8%aa%20iconfont%20%e7%9a%84%e6%8c%89%e9%92%ae%ef%bc%8c%e8%bf%94%e5%9b%9e%e6%8c%89%e9%92%ae%e6%98%af%e4%b8%ba%e4%ba%86%20PWA%20%e7%89%b9%e6%84%8f%e5%a2%9e%e5%8a%a0%e7%9a%84%ef%bc%8c%e4%b8%8d%e7%84%b6%e4%b8%8d%e8%83%bd%e8%bf%94%e5%9b%9e%e5%88%b0%e4%b8%bb%e9%a1%b5%e4%ba%86%e3%80%82%e6%90%9c%e7%b4%a2%e5%92%8c%e4%be%a7%e8%be%b9%e6%a0%8f%e4%b9%9f%e9%83%bd%e6%98%af%e8%bf%99%e6%ac%a1%e5%a2%9e%e5%8a%a0%e7%9a%84%e6%96%b0%e5%8a%9f%e8%83%bd%ef%bc%8c%e4%b8%8b%e9%9d%a2%e4%bc%9a%e7%bb%86%e8%af%b4%e3%80%82%0a%e6%96%87%e7%ab%a0%e6%b7%bb%e5%8a%a0%e7%9b%ae%e5%bd%95%20%e8%bf%99%e4%b8%aa%e5%8a%9f%e8%83%bd%e4%b9%9f%e6%98%af%e8%af%bb%e8%80%85%e6%8f%90%e8%bf%87%e7%9a%84%e9%9c%80%e6%b1%82%e3%80%82%e5%9b%a0%e4%b8%ba%e6%9c%89%e4%ba%9b%e6%96%87%e7%ab%a0%e6%af%94%e8%be%83%e9%95%bf%ef%bc%8c%e5%b8%b8%e5%b8%b8%e5%ae%b9%e6%98%93%e7%9c%8b%e5%88%b0%e5%90%8e%e9%9d%a2%e5%bf%98%e8%ae%b0%e4%ba%86%e5%89%8d%e9%9d%a2%ef%bc%8c%e5%a6%82%e6%9e%9c%e6%9c%89%e4%b8%80%e4%b8%aa%e7%9b%ae%e5%bd%95%ef%bc%8c%e5%8f%af%e4%bb%a5%e5%88%86%e7%ab%a0%e8%8a%82%e9%98%85%e8%af%bb%e6%96%87%e7%ab%a0%ef%bc%8c%e4%b9%9f%e5%8f%af%e4%bb%a5%e8%bf%85%e9%80%9f%e6%b5%8f%e8%a7%88%e7%9b%ae%e5%bd%95%ef%bc%8c%e6%8a%93%e4%bd%8f%e6%96%87%e7%ab%a0%e8%84%89%e7%bb%9c%e3%80%82%e8%bf%99%e6%ac%a1%e5%8d%87%e7%ba%a7%e7%ac%94%e8%80%85%e4%b9%9f%e5%8a%a0%e4%b8%8a%e4%ba%86%e8%bf%99%e4%b8%aa%e5%8a%9f%e8%83%bd%e3%80%82%0a%e6%96%87%e7%ab%a0%e7%9b%ae%e5%bd%95%e8%bf%99%e4%b8%aa%e5%8a%9f%e8%83%bd%e7%9a%84%e4%b8%8d%e9%9a%be%ef%bc%8c%e5%8f%aa%e8%a6%81%e9%81%8d%e5%8e%86%e4%b8%80%e9%81%8d%20markdown%20%e7%9a%84%e6%a0%87%e9%a2%98%e5%b0%b1%e5%8f%af%e4%bb%a5%e4%ba%86%e3%80%82github%20%e4%b8%8a%e5%8f%af%e4%bb%a5%e6%89%be%e5%88%b0%e7%8e%b0%e6%88%90%e7%9a%84%20jquery%20%e7%89%88%e6%9c%ac%e7%9a%84%e4%bb%a3%e7%a0%81%20jquery.toc.js%e3%80%82%e5%bc%95%e7%94%a8%e5%ae%83%ef%bc%8c%e7%84%b6%e5%90%8e%e5%88%9d%e5%a7%8b%e5%8c%96%e7%9a%84%e6%97%b6%e5%80%99%e5%8a%a0%e4%b8%8a%e8%87%aa%e5%b7%b1%e7%9a%84%e9%85%8d%e7%bd%ae%ef%bc%9a%0a%2f%2f%e5%88%9d%e5%a7%8b%e5%8c%96%20toc%20%e6%8f%92%e4%bb%b6%20%20%24%28%26%2339%3b%23toc%26%2339%3b%29.initTOC%28%7b%20selector%3a%20%26%2334%3bh1%2c%20h2%2c%20h3%2c%20h4%2c%20h5%2c%20h6%26%2334%3b%2c%20scope%3a%20%26%2334%3barticle%26%2334%3b%2c%20overwrite%3a%20false%2c%20prefix%3a%20%26%2334%3btoc%26%2334%3b%20%7d%29%3b%20selector%20%e4%bb%a3%e8%a1%a8%e4%bc%9a%e6%90%9c%e7%b4%a2%20markdown%20%e6%96%87%e7%ab%a0%e6%a0%87%e9%a2%98%e7%9a%84%e5%b1%82%e7%ba%a7%e6%b7%b1%e5%ba%a6%ef%bc%8c%e8%bf%99%e9%87%8c%e6%98%af%e4%bb%8e%20h1%20-%20h6%20%e3%80%82scope%20%e8%a1%a8%e7%a4%ba%e7%9a%84%e6%98%af%20toc%20%e6%90%9c%e7%b4%a2%e8%8c%83%e5%9b%b4%ef%bc%8c%e7%94%b1%e4%ba%8e%e5%9c%a8%20ghost%20%e4%b8%ad%e6%96%87%e7%ab%a0%e6%98%af%e5%9c%a8%20%26lt%3barticle%26gt%3b%20%e6%a0%87%e7%ad%be%e9%87%8c%e9%9d%a2%e7%9a%84%ef%bc%8c%e6%89%80%e4%bb%a5%e8%bf%99%e9%87%8c%20scope%20%e4%b8%ba%20article%e3%80%82"><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fnew.halfrost.com%2fghost_feature%2f&t=Ghost%20%e5%8d%9a%e5%ae%a2%e7%82%ab%e6%8a%80%22%e6%96%b0%22%e7%8e%a9%e6%b3%95"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu class=icon href=# onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden=true></i>Menu</a>
<a id=toc class=icon href=# onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden=true></i>TOC</a>
<a id=share class=icon href=# onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden=true></i>share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i>Top</a></div></div></div><footer id=footer><div class=footer-left><p class=copyright style=float:left;margin-bottom:0><a href=https://github.com/halfrost/Halfrost-Field class=github-repo style=height:18px><span class=gadget-github></span>Star</a>
Copyright &copy;halfrost 2016 - 2021
<a href=http://www.miit.gov.cn/>鄂ICP备16014744号</a></p><br><p class="copyright statistics" style=margin-bottom:20px><span id=busuanzi_container_site_pv>Cumulative Page Views <span id=busuanzi_value_site_pv></span>| Unique Visitors <span id=busuanzi_value_site_uv></span></span></p></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script><script src=/main.min.f870a4d110314b9e50e65f8ac982dc1c9c376c8f1a5083d39c62cfc49073f011.js></script><script async src=/prism.js></script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']]},svg:{fontCache:'global'}};</script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></html>